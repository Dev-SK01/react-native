import{e as m,j as n,c as i,o as l,n as f,y as p,d as _,g as h,t as u,D as y,a as g,M as D,h as k,q as b,r as x,L as B}from"../entry.BBXTE6X0.js";import{g as z}from"./FileSizeBadge.vue.9X-6oYv4.js";const T=m({__name:"NumberBadge",props:{number:{},color:{default:"badge-color-gray op75"},icon:{},prefix:{},format:{default:"locale"}},setup(a){const e=a,t=n(()=>e.format==="percent"?Number(e.number).toLocaleString(void 0,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}):Number(e.number).toLocaleString());return(o,r)=>(l(),i("div",{class:f([o.color,"px-0.4em py-0.2em font-mono line-height-none flex items-center"])},[o.icon?(l(),i("div",{key:0,class:f([o.icon,"mr-1"])},null,2)):p("",!0),_(" "+u(o.prefix||"")+u(t.value)+" ",1),h(o.$slots,"after")],2))}}),S={"font-mono":""},M={op50:"","text-xs":"","ml0.5":""},N=24*60*60*1e3,$=m({__name:"DurationBadge",props:{ms:{},colorize:{type:Boolean,default:!0},mode:{default:"hour"}},setup(a){const e=a,t=[[180,"color-scale-neutral"],[365,"color-scale-low"],[365*3,"color-scale-medium"],[365*5,"color-scale-high"],[730*5,"color-scale-critical"]],o=n(()=>e.ms==null?0:Math.floor(e.ms/N)),r=n(()=>e.ms?o.value<1?e.mode==="day"?["today",""]:[Math.floor(e.ms/36e5),"hr"]:o.value>365?[+(o.value/365).toFixed(1),"yr"]:o.value>30?[Math.round(o.value/30),"mo"]:[o.value,"d"]:["",""]),d=n(()=>{if(!y.value.colorizePackageSize&&!e.colorize)return t[0][1];for(const[s,c]of t)if(o.value<s)return c;return t[t.length-1][1]});return(s,c)=>s.ms?(l(),i("div",{key:0,class:f([d.value,"px-0.4em py-0.2em line-height-none bg-gray:5 text-sm"])},[g("span",S,u(r.value[0]),1),g("span",M,u(r.value[1]),1)],2)):p("",!0)}}),C=m({__name:"DateBadge",props:{pkg:{},time:{},colorize:{type:Boolean,default:!0}},setup(a){const e=a,t=n(()=>e.time?new Date(e.time):e.pkg?z(e.pkg):void 0),o=Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}),r=n(()=>t.value?o.format(t.value):null);return(d,s)=>{const c=$,v=D("tooltip");return t.value?k((l(),b(c,{key:0,title:r.value,ms:Date.now()-+t.value,colorize:e.colorize,mode:"day"},null,8,["title","ms","colorize"])),[[v,r.value]]):p("",!0)}}}),w=["src"],E=m({__name:"SafeImage",props:{src:{}},setup(a){const e=a,t=x(!1);return B(()=>{const o=new Image;o.src=e.src,o.onload=()=>{t.value=!0}}),(o,r)=>t.value?(l(),i("img",{key:0,src:e.src,onError:r[0]||(r[0]=d=>t.value=!1)},null,40,w)):p("",!0)}});export{T as _,C as a,E as b,$ as c};
