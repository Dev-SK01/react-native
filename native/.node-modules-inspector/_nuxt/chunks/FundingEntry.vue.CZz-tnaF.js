import{p as $,h as S,f as D}from"./FileSizeBadge.vue.9X-6oYv4.js";import{e as m,j as f,c as u,o as l,F as b,i as x,N as E,n as d,a as c,y as i,t as g,aw as F,ax as M,q as h,ay as P,a5 as v,f as O,h as w,az as j,M as V,g as z}from"../entry.BBXTE6X0.js";import{b as R}from"./SafeImage.vue.B574OZzG.js";const T={flex:""},U=["title"],L={key:0,op50:""},B=m({__name:"Percentage",props:{nodes:{},rounded:{type:Boolean,default:!0},percentage:{type:Boolean,default:!0}},setup(n){const e=n,t=f(()=>e.nodes.reduce((a,{value:r})=>a+r,0));return(a,r)=>(l(),u("div",T,[(l(!0),u(b,null,x(a.nodes,(o,s)=>(l(),u("div",{key:o.name,class:d([o.class,e.rounded&&s===0?"rounded-l":"",e.rounded&&s===a.nodes.length-1?"rounded-r":"",s!==0?"border-l":""]),title:o.title,style:E({flex:o.value}),"text-center":"","text-xs":"","px1.5":"",py1:"",flex:"","gap-x-0.5":"","cursor-default":""},[c("span",null,g(o.name),1),a.percentage?(l(),u("span",L,g(`${+(o.value*100/t.value).toFixed(1)}%`),1)):i("",!0)],14,U))),128))]))}}),W=m({__name:"PercentageModuleType",props:{pkg:{},packages:{},flat:{type:Boolean,default:!1},rounded:{type:Boolean,default:!0}},setup(n){const e=n,t=f(()=>{const a=e.pkg?[e.pkg,...e.flat?$.avaliable.flatDependencies(e.pkg):$.avaliable.dependencies(e.pkg)]:e.packages??[];return Object.entries(F(a)).filter(([r,o])=>o>0).map(([r,o])=>({value:o,name:r.toUpperCase(),class:M[r],title:`${o} dependencies are in ${r.toUpperCase()}`}))});return(a,r)=>{const o=B;return l(),h(o,{nodes:t.value,rounded:a.rounded},null,8,["nodes","rounded"])}}}),A={js:"badge-color-yellow",ts:"badge-color-blue",json:"badge-color-orange",other:"badge-color-gray",comp:"badge-color-green",dts:"badge-color-blue",image:"badge-color-purple",css:"badge-color-purple",html:"badge-color-violet",doc:"badge-color-gray",test:"badge-color-orange",bin:"badge-color-teal",map:"badge-color-gray",wasm:"badge-color-purple",flow:"badge-color-yellow",font:"badge-color-gray"},X=m({__name:"PercentageFileCategories",props:{pkg:{},rounded:{type:Boolean,default:!0}},setup(n){const e=n,t=f(()=>{var r,o;const a=(((r=e.pkg.resolved.installSize)==null?void 0:r.bytes)??0)*.01;return P(((o=e.pkg.resolved.installSize)==null?void 0:o.categories)??{}).sort((s,p)=>p[1].bytes-s[1].bytes).filter(([s,p])=>p.bytes>a).map(([s,p])=>{const k=S((p==null?void 0:p.bytes)||0);return{value:p.bytes,name:s.toUpperCase(),class:A[s],title:`${p==null?void 0:p.count} ${s} files, in total ${k[0]} ${k[1]}`}})});return(a,r)=>{const o=B;return l(),h(o,{nodes:t.value,rounded:a.rounded},null,8,["nodes","rounded"])}}}),N=["href"],G={"rounded-full":"","font-mono":""},I={"text-sm":""},Z=m({__name:"DeprecationMessage",props:{pkg:{},showTitle:{type:Boolean,default:!0}},setup(n){const e=n,t=f(()=>D(e.pkg)),a={package:"Package Deprecated",current:"Current Version Deprecated",future:"Future Deprecation"};return(r,o)=>t.value?(l(),u("a",{key:0,px3:"",py2:"",block:"",href:t.value.type==="current"?`https://npmjs.com/package/${r.pkg.spec}`:`https://npmjs.com/package/${r.pkg.name}`,class:d(t.value.type==="future"?"badge-color-orange":"badge-color-red"),target:"_blank"},[r.showTitle?(l(),u("div",{key:0,flex:"~ gap-1 items-center","text-sm":"","font-bold":"",class:d(t.value.type==="future"?"text-orange":"text-red")},[c("div",{class:d(t.value.type==="future"?"i-ph-warning-circle-duotone":"i-ph-warning-duotone"),"flex-none":""},null,2),c("div",G,g(a[t.value.type]),1)],2)):i("",!0),c("div",I,g(t.value.current||t.value.latest),1)],10,N)):i("",!0)}}),_=new Map;function y(n){if(_.has(n))return _.get(n);const e={valid:!1,raw:n};if(_.set(n,e),!v.validRange(n))return e;const t=n.split(/\|\|/g).map(s=>s.replace(/\s+/g,"").replace(/(\.[0x*])+$/g,"")),a=t.map(s=>s.replace(/^(?:\^|>=|>)/g,"").replace(/\.[*x]$/,"").trim()).map(s=>{const p=s.split(/\./);return p.length===1?`${s}.0.0`:p.length===2?`${s}.0`:s}).sort(C),r=a.at(-1),o=a.at(0);return!v.valid(r)||!v.valid(o)||(e.valid=!0,e.highest=r,e.lowest=o,e.parts=t,e.bare=a),e}function C(n,e){if(n===e)return 0;try{return v.compare(n,e)}catch(t){return console.error("Failed to compare semver ",t),0}}function ee(n="*",e="*"){var o,s;if(n===e)return 0;const t=y(n),a=y(e),r=C(a.lowest||"*",t.lowest||"*");return r!==0?r:(((o=a.parts)==null?void 0:o.length)||0)-(((s=t.parts)==null?void 0:s.length)||0)}const q={key:0},H={key:0,border:"l base","h-4":"","w-1px":"","flex-none":""},te=m({__name:"NodeVersionRange",props:{range:{}},setup(n){const e=n,t=f(()=>e.range&&y(e.range));return(a,r)=>a.range&&t.value?(l(),u("span",{key:0,"font-mono":"",px2:"",pl1:"","py0.5":"","rounded-lg":"","text-sm":"",flex:"~ gap-2 items-center",class:d(t.value.valid?"badge-color-gray !bg-active":"badge-color-red")},[r[0]||(r[0]=c("div",{"i-catppuccin-package-json":"","icon-catppuccin":"","flex-none":""},null,-1)),t.value.valid?(l(!0),u(b,{key:1},x(t.value.parts||[],(o,s)=>(l(),u(b,{key:s},[s!==0?(l(),u("div",H)):i("",!0),c("div",null,g(o),1)],64))),128)):(l(),u("div",q,g(t.value.raw),1))],2)):i("",!0)}}),ae=m({__name:"Checkbox",props:{modelValue:{type:[Boolean,String],type:[Boolean,String]},modelModifiers:{}},emits:["update:modelValue"],setup(n){const e=O(n,"modelValue");return(t,a)=>(l(),u("div",{border:"~ base rounded",flex:"~ gap-2 items-center",relative:"","h-5":"","w-5":"","hover:bg-active":"","p0.5":"",class:d(e.value?"bg-primary:5":"bg-secondary")},[c("div",{"i-ph-check-bold":"","text-xl":"","text-primary":"",class:d(e.value?"":"op0")},null,2),w(c("input",{"onUpdate:modelValue":a[0]||(a[0]=r=>e.value=r),type:"checkbox",absolute:"","inset-0":"","z-10":"","opacity-0.1":""},null,512),[[j,e.value]])],2))}}),Y=["href"],re=m({__name:"FundingEntry",props:{funding:{}},setup(n){return(e,t)=>{const a=V("tooltip");return e.funding?w((l(),u("a",{key:0,href:e.funding.url,title:"Open Funding Page",target:"_blank",flex:"~ gap-2","of-hidden":"","text-ellipsis":""},[e.funding.avatar?(l(),h(R,{key:0,src:e.funding.avatar,"bg-active":"",border:"~ base rounded-full",w6:"",h6:"",crossorigin:"anonymous"},null,8,["src"])):i("",!0),c("span",null,g(e.funding.name),1),z(e.$slots,"default")],8,Y)),[[a,"Open Funding Page"]]):i("",!0)}}});export{W as _,X as a,Z as b,ee as c,te as d,ae as e,re as f,C as g,y as p};
