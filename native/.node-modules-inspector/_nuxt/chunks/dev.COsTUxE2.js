import{e as C,c,o as p,a as o,b as v,n as T,t as D,l as i,d as N,q as S,O as ot,w as k,g as ye,$ as st,m as Ct,f as Rt,F as P,i as B,h as I,a0 as Ft,M as Z,k as f,a1 as we,y as x,D as $,a2 as lt,a3 as rt,a4 as se,j as E,N as Mt,v as at,a5 as qe,a6 as it,a7 as It,r as te,a8 as Lt,a9 as Je,x as dt,U as Ee,K as q,P as Te,aa as Vt,V as Nt,W,ab as ue,ac as pe,E as Bt,Q as ut,ad as At,ae as pt,s as Ut,Z as Se,af as J,X as ct,ag as ke,ah as $e,ai as Qe,aj as jt,ak as gt,al as zt,am as ft,an as Ht,ao as mt,ap as Gt,aq as Xt,ar as Wt,as as fe,at as Yt,A as Kt,au as Q,G as vt}from"../entry.BBXTE6X0.js";import{_ as bt}from"./Logo.Dg7vYRwa.js";import{e as ie,_ as Pe,f as qt,d as Jt,b as Qt,a as Zt}from"./FundingEntry.vue.CZz-tnaF.js";import{a as De,p as w,e as Oe,c as en,f as ht,d as tn,s as le,g as nn,b as _t,t as on}from"./FileSizeBadge.vue.9X-6oYv4.js";import{_ as Ce}from"./ClusterBadge.vue.D-ddemH5.js";import{_ as de,a as Re}from"./SafeImage.vue.B574OZzG.js";import{_ as sn}from"./SourceTypeBadge.vue.DYFMseh5.js";import{_ as Fe}from"./nuxt-link.DFMQ8r5M.js";import{_ as ln}from"./Item.vue.CUOCZkLu.js";import{_ as rn}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{_ as an}from"./PackageSelect.vue.CVsTBBnu.js";const xt="0.5.1",dn={p5:"",flex:"~ col gap-3 items-center"},un={relative:""},pn={flex:"~ gap-1","leading-none":"","text-4xl":"","mt-5":""},cn={"font-mono":"","text-sm":"",flex:"~ col items-center","mr--14":""},gn={op50:""},fn=C({__name:"Title",props:{isLoading:{type:Boolean},hasError:{type:Boolean}},setup(t){return(s,n)=>{const e=bt;return p(),c("h1",dn,[o("div",un,[v(e,{"w-30":"","h-30":"","transition-all":"","duration-300":"",class:T(s.hasError?"hue-rotate--105":s.isLoading?"animate-spin-reverse":"")},null,8,["class"]),o("div",{absolute:"","top-0":"","right--2":"","text-orange":"","transition-all":"","duration-300":"",class:T(s.hasError?"op100":"op0")},n[0]||(n[0]=[o("div",{"i-ph-warning-fill":"","text-3xl":""},null,-1)]),2)]),o("div",pn,[o("span",{"font-700":"","text-primary":"","transition-all":"","duration-300":"",class:T(s.hasError?"hue-rotate--105":"")},"Node Modules",2),n[1]||(n[1]=o("span",{op75:""},"Inspector",-1)),o("span",cn,[o("span",gn,"v"+D(i(xt)),1)])]),n[2]||(n[2]=o("div",{op50:"","text-center":""}," Visualize your node_modules, inspect dependencies, and more. ",-1))])}}}),mn={},vn={flex:"~ gap-1.1 items-center",p3:"",pl5:"",pr4:"","text-hex-888e":""};function bn(t,s){return p(),c("div",vn,s[0]||(s[0]=[N(" Made with "),o("a",{href:"https://nuxt.com",target:"_blank",rel:"noopener",flex:"~ gap-1.1 items-center"},[o("div",{"i-logos-nuxt-icon":"","text-0.6rem":"","mr--0.6":""}),o("span",{"text-green":""},"Nuxt")],-1),N(" and "),o("div",{"i-ph-heart-duotone":"","text-rose":""},null,-1),N(" by "),o("a",{href:"https://github.com/antfu",target:"_blank",rel:"noopener",hover:"underline"},"Anthony Fu",-1),o("div",{"flex-auto":""},null,-1),o("a",{href:"https://github.com/antfu/node-modules-inspector",target:"_blank",rel:"noopener",op50:"","hover:op100":""},[o("div",{"i-ri-github-fill":"","text-lg":""})],-1)]))}const hn=rn(mn,[["render",bn]]),_n={"w-50":"",flex:"~ gap-1 items-center"},xn={"text-sm":""},Me=C({__name:"Item",props:{title:{},div:{type:Boolean},description:{}},emits:["reset"],setup(t,{emit:s}){const n=s;function e(){n("reset")}return(a,u)=>(p(),S(ot(a.div?"div":"label"),{flex:"~ row gap-2 items-center","select-none":""},{default:k(()=>[o("div",_n,[v(i(st),{placement:"left",distance:"10"},{popper:k(()=>[o("div",xn,D(a.description),1)]),default:k(()=>[o("div",{op75:"","text-sm":"",onDblclick:e},D(a.title),33)]),_:1})]),ye(a.$slots,"default")]),_:3}))}}),yn={flex:"~ inline wrap",border:"~ base rounded","of-hidden":"","text-xs":""},kn=["title"],$n=["value","title"],Ie=C({__name:"SelectGroup",props:Ct({options:{},titles:{},classes:{}},{modelValue:{type:[String,Number]},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const s=Rt(t,"modelValue");return(n,e)=>(p(),c("fieldset",yn,[(p(!0),c(P,null,B(n.options,(a,u)=>{var r,d,l,h,y;return p(),c("label",{key:a??u,border:"b base",relative:"","mb--1px":"","hover:bg-active":"","px1.5":"",py1:"",class:T([u?"border-l border-base ml--1px":"",a===s.value?"bg-primary:10 text-primary":""]),title:(r=n.titles)==null?void 0:r[u]},[o("div",{class:T([a===s.value?"":"op35",(d=n.titles)!=null&&d[u]?"":"capitalize",((l=n.classes)==null?void 0:l[u])||""])},D(((h=n.titles)==null?void 0:h[u])??a),3),I(o("input",{"onUpdate:modelValue":e[0]||(e[0]=_=>s.value=_),type:"radio",value:a,title:(y=n.titles)==null?void 0:y[u],absolute:"","inset-0":"","op-0.1":""},null,8,$n),[[Ft,s.value]])],10,kn)}),128))]))}}),wn={flex:"~ col gap-2",p4:"",border:"t base"},En={flex:"~ gap-2 items-center"},Tn={flex:"~ gap-2 items-center","select-none":""},Sn=["disabled"],Pn={key:0,flex:"~ gap-2 wrap"},Dn={"font-mono":"","text-sm":""},On=["onClick"],Cn={key:1,op50:"","text-sm":"",italic:""},Rn={mt2:"",flex:"~ col gap-1"},Fn=C({__name:"FiltersOptionExcludes",setup(t){return(s,n)=>{const e=ie,a=Me,u=Z("tooltip");return p(),c("div",wn,[o("div",En,[I((p(),c("div",Tn,n[4]||(n[4]=[o("div",{"i-ph-network-slash-duotone":"","flex-none":""},null,-1),o("div",null,"Excludes",-1)]))),[[u,"Excluded packages and the dependencies they introduced are ignored in all representations"]]),n[6]||(n[6]=o("div",{"flex-auto":""},null,-1)),o("button",{"btn-action":"",disabled:i(f).exclude.activated.length===0,onClick:n[0]||(n[0]=r=>i(f).exclude.reset())},n[5]||(n[5]=[o("div",{"i-ph-trash-simple-duotone":""},null,-1),N(" Reset ")]),8,Sn)]),i(f).state.excludes?(p(),c("div",Pn,[(p(!0),c(P,null,B(i(f).state.excludes,r=>(p(),c("div",{key:r,"badge-color-purple":"","rounded-full":"",px2:"",pl3:"","py0.5":"",flex:"~ gap-1 items-center"},[o("div",Dn,D(r),1),o("button",{op50:"","hover:op100":"",onClick:d=>i(f).excludes.toggle(r,!1)},n[7]||(n[7]=[o("div",{"i-ph-x":"",op50:""},null,-1)]),8,On)]))),128))])):(p(),c("div",Cn," To exclude a specific package, select from its menu ")),o("div",Rn,[v(a,{title:"Exclude Types Packages",description:"Exclude TypeScript declaration packages"},{default:k(()=>[v(e,{modelValue:i(f).state.excludeDts,"onUpdate:modelValue":n[1]||(n[1]=r=>i(f).state.excludeDts=r)},null,8,["modelValue"])]),_:1}),v(a,{title:"Exclude Private Packages",description:"Exclude private workspace packages and their dependencies"},{default:k(()=>[v(e,{modelValue:i(f).state.excludePrivate,"onUpdate:modelValue":n[2]||(n[2]=r=>i(f).state.excludePrivate=r)},null,8,["modelValue"])]),_:1}),v(a,{title:"Exclude Workspace Roots",description:"Exclude workspaces but NOT their dependencies"},{default:k(()=>[v(e,{modelValue:i(f).state.excludeWorkspace,"onUpdate:modelValue":n[3]||(n[3]=r=>i(f).state.excludeWorkspace=r)},null,8,["modelValue"])]),_:1})])])}}}),Mn={flex:"~ col gap-4",p4:""},In={key:0,border:"t base",p4:"",flex:"~ gap-2 items-center"},Ln=C({__name:"Settings",setup(t){const s=we();return(n,e)=>{const a=ie,u=Me,r=Ie,d=Fn;return p(),c("div",null,[o("div",Mn,[v(u,{title:"Simplify module types",description:"Show only ESM/CJS"},{default:k(()=>[v(a,{modelValue:i($).moduleTypeSimple,"onUpdate:modelValue":e[0]||(e[0]=l=>i($).moduleTypeSimple=l)},null,8,["modelValue"])]),_:1}),v(u,{title:"Treat FAUX as ESM",description:"Treat FAUX as ESM"},{default:k(()=>[v(a,{modelValue:i($).treatFauxAsESM,"onUpdate:modelValue":e[1]||(e[1]=l=>i($).treatFauxAsESM=l)},null,8,["modelValue"])]),_:1}),v(u,{title:"Module type indicator",description:"Rendering mode of module type indicator"},{default:k(()=>[v(r,{modelValue:i($).moduleTypeRender,"onUpdate:modelValue":e[2]||(e[2]=l=>i($).moduleTypeRender=l),options:["badge","circle","none"],titles:["Badge","Circle","None"]},null,8,["modelValue"])]),_:1}),v(u,{title:"Show size badge",description:"Show install size badge on package list"},{default:k(()=>[v(a,{modelValue:i($).showInstallSizeBadge,"onUpdate:modelValue":e[3]||(e[3]=l=>i($).showInstallSizeBadge=l)},null,8,["modelValue"])]),_:1}),v(u,{title:"Show publish time badge",description:"Show publish time badge on package list"},{default:k(()=>[v(a,{modelValue:i($).showPublishTimeBadge,"onUpdate:modelValue":e[4]||(e[4]=l=>i($).showPublishTimeBadge=l)},null,8,["modelValue"])]),_:1}),v(u,{title:"Colorize size badge",description:"Colorize package size badge"},{default:k(()=>[v(a,{modelValue:i($).colorizePackageSize,"onUpdate:modelValue":e[5]||(e[5]=l=>i($).colorizePackageSize=l)},null,8,["modelValue"])]),_:1}),v(u,{title:"Dependency source badge",description:"Show a badge of the source type"},{default:k(()=>[v(r,{modelValue:i($).showDependencySourceBadge,"onUpdate:modelValue":e[6]||(e[6]=l=>i($).showDependencySourceBadge=l),options:["none","prod","dev","both"],titles:["None","Prod","Dev","Both"]},null,8,["modelValue"])]),_:1})]),v(d),i(s).isDynamic?(p(),c("div",In,[o("button",{"btn-action":"",onClick:e[7]||(e[7]=l=>i(lt)(!0))},e[8]||(e[8]=[o("div",{"i-ph-arrows-clockwise-duotone":""},null,-1),N(" Refetch Data ")]))])):x("",!0)])}}}),Vn={flex:"~ col gap-2",p4:"",border:"t base"},Nn={flex:"~ gap-4 wrap"},Bn=C({__name:"FiltersOptionModuleTypes",setup(t){function s(e){return E({get(){return f.state.modules==null||f.state.modules.includes(e)},set(a){const u=new Set(f.state.modules?f.state.modules:se.value);a?u.add(e):u.delete(e),u.size>=se.value.length?f.state.modules=null:f.state.modules=Array.from(u)}})}const n=Object.fromEntries(rt.map(e=>[e,s(e)]));return(e,a)=>{const u=ie,r=De;return p(),c("div",Vn,[o("div",Nn,[(p(!0),c(P,null,B(i(se),d=>(p(),c("label",{key:d,flex:"~ gap-1 items-center"},[v(u,{modelValue:i(n)[d].value,"onUpdate:modelValue":l=>i(n)[d].value=l},null,8,["modelValue","onUpdate:modelValue"]),v(r,{pkg:d,force:!0,class:T(i(n)[d].value?"":"saturate-0 op75")},null,8,["pkg","class"])]))),128))])])}}}),An={key:0,flex:"~ col gap-2",p4:"",border:"t base"},Un={flex:"~ gap-2 items-center","h-6":""},jn={flex:"~ gap-2 items-center"},zn={flex:"~ gap-1 items-center"},Hn={flex:"~ gap-x-4 gap-y-2 wrap",mt1:""},Gn=C({__name:"FiltersOptionClusters",setup(t){const s=E(()=>{const u=new Set;for(const r of w.avaliable.clusters)r.startsWith("dep:")||u.add(r);return Array.from(u)}),n=E({get(){return f.state.clusters==null||f.state.clusters.length===s.value.length},set(u){u?f.state.clusters=null:f.state.clusters=[]}});function e(u){return E({get(){return f.state.clusters==null||f.state.clusters.includes(u)},set(r){const d=new Set(f.state.clusters?f.state.clusters:s.value);r?d.add(u):d.delete(u),d.size>=s.value.length?f.state.clusters=null:f.state.clusters=Array.from(d)}})}const a=Object.fromEntries(s.value.map(u=>[u,e(u)]));return(u,r)=>{var _;const d=Ie,l=ie,h=Ce,y=Z("tooltip");return s.value.length>=2?(p(),c("div",An,[o("div",Un,[I((p(),c("div",jn,r[2]||(r[2]=[o("div",{"i-ph-exclude-duotone":"","flex-none":""},null,-1),o("div",null,"Clusters",-1)]))),[[y,"Clusters are groups of packages that are introduced together by some conditions, such as pnpm catalogs"]]),r[4]||(r[4]=o("div",{"flex-auto":""},null,-1)),(((_=i(f).state.clusters)==null?void 0:_.length)||0)>1?(p(),S(d,{key:0,modelValue:i(f).state.clustersMode,"onUpdate:modelValue":r[0]||(r[0]=b=>i(f).state.clustersMode=b),options:["and","or"],titles:["AND","OR"]},null,8,["modelValue"])):x("",!0),o("label",zn,[v(l,{modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=b=>n.value=b)},null,8,["modelValue"]),r[3]||(r[3]=o("div",null," All ",-1))])]),o("div",Hn,[(p(!0),c(P,null,B(s.value,b=>(p(),c("label",{key:b,flex:"~ gap-1 items-center"},[v(l,{modelValue:i(a)[b].value,"onUpdate:modelValue":R=>i(a)[b].value=R},null,8,["modelValue","onUpdate:modelValue"]),v(h,{"select-none":"",cluster:b,force:!0,class:T(i(a)[b].value?"":"saturate-0 op75")},null,8,["cluster","class"])]))),128))])])):x("",!0)}}}),Xn={key:0,flex:"~ col gap-2",p4:"",border:"t base"},Wn={flex:"~ gap-2 wrap"},Yn={"font-mono":"","text-sm":""},Kn=["onClick"],qn=C({__name:"FiltersOptionFocus",setup(t){return(s,n)=>i(f).state.focus?(p(),c("div",Xn,[n[1]||(n[1]=o("div",{flex:"~ gap-2 items-center"},[o("div",{"i-ph-arrows-in-cardinal-duotone":"","flex-none":""}),o("div",null,[o("div",null,"Focus On"),o("div",{op50:"","text-sm":"","mt--0.5":""}," Filter specific packages and their dependencies ")])],-1)),o("div",Wn,[(p(!0),c(P,null,B(i(f).state.focus,e=>(p(),c("div",{key:e,"badge-color-primary":"","rounded-full":"",px2:"",pl3:"","py0.5":"",flex:"~ gap-1 items-center"},[o("div",Yn,D(e),1),o("button",{op50:"","hover:op100":"",onClick:a=>i(f).focus.toggle(e,!1)},n[0]||(n[0]=[o("div",{"i-ph-x":"",op50:""},null,-1)]),8,Kn)]))),128))])])):x("",!0)}}),Jn={key:0,flex:"~ col gap-2",p4:"",border:"t base"},Qn={flex:"~ gap-2 wrap"},Zn={"font-mono":"","text-sm":""},eo=["onClick"],to=C({__name:"FiltersOptionWhy",setup(t){return(s,n)=>i(f).state.why?(p(),c("div",Jn,[n[1]||(n[1]=o("div",{flex:"~ gap-2 items-center"},[o("div",{"i-ph-seal-question-duotone":"","flex-none":""}),o("div",null,[o("div",null,"Why"),o("div",{op50:"","text-sm":"","mt--0.5":""}," Filter dependents to see why packages are used ")])],-1)),o("div",Qn,[(p(!0),c(P,null,B(i(f).state.why,e=>(p(),c("div",{key:e,"badge-color-yellow":"","rounded-full":"",px2:"",pl3:"","py0.5":"",flex:"~ gap-1 items-center"},[o("div",Zn,D(e),1),o("button",{op50:"","hover:op100":"",onClick:a=>i(f).why.toggle(e,!1)},n[0]||(n[0]=[o("div",{"i-ph-x":"",op50:""},null,-1)]),8,eo)]))),128))])])):x("",!0)}}),no={flex:"~ col gap-2",p4:"",border:"t base"},oo={flex:"~ gap-2 items-center"},so={flex:"~ gap-2 items-center"},lo={flex:"~ gap-1 items-center"},ro={"font-mono":""},ao=C({__name:"FiltersOptionDepth",setup(t){const s=E(()=>{let r=0;for(const d of w.avaliable.packages)d.depth>r&&(r=d.depth);return Array.from({length:r+1},(d,l)=>l)});function n(r){return E({get(){return f.state.depths==null||f.state.depths.some(d=>+d===r)},set(d){const l=new Set((f.state.depths?f.state.depths:s.value).map(h=>+h));d?l.add(r):l.delete(r),l.size>=s.value.length?f.state.depths=null:f.state.depths=Array.from(l)}})}const e=E(()=>s.value.map(r=>n(r))),a=E({get(){return f.state.depths==null||f.state.depths.length===s.value.length},set(r){f.state.depths=r?null:[]}}),u=E(()=>Math.ceil(s.value.length/3));return(r,d)=>{const l=ie,h=de,y=Z("tooltip");return p(),c("div",no,[o("div",oo,[I((p(),c("div",so,d[1]||(d[1]=[o("div",{"i-ph-stack-duotone":"","flex-none":""},null,-1),o("div",null," Dependency Depth ",-1)]))),[[y,"Dependency depth is the number of dependencies between the root package and the target package"]]),d[3]||(d[3]=o("div",{"flex-auto":""},null,-1)),o("label",lo,[v(l,{modelValue:a.value,"onUpdate:modelValue":d[0]||(d[0]=_=>a.value=_)},null,8,["modelValue"]),d[2]||(d[2]=o("div",null," All ",-1)),v(h,{number:i(w).avaliable.packages.length,"rounded-full":"","text-xs":""},null,8,["number"])])]),o("div",{grid:"~ flow-col",style:Mt(`grid-template-rows: repeat(${u.value}, minmax(0, 1fr));`)},[(p(!0),c(P,null,B(s.value,_=>(p(),c("label",{key:_,flex:"~ gap-1 items-center"},[v(l,{modelValue:e.value[_].value,"onUpdate:modelValue":b=>e.value[_].value=b},null,8,["modelValue","onUpdate:modelValue"]),o("div",ro," #"+D(_),1),v(h,{number:i(w).avaliable.packages.filter(b=>b.depth===_).length,"rounded-full":"","text-xs":""},null,8,["number"])]))),128))],4)])}}}),io={border:"t base"},uo={p3:"",flex:"~ col gap-2 "},po={flex:"~ items-center gap-2"},co={key:0,flex:"~ items-center gap-1","text-0.85rem":""},go=C({__name:"FiltersResults",setup(t){return(s,n)=>{const e=de,a=Pe;return p(),c("div",io,[n[5]||(n[5]=o("div",{flex:"~ gap-2 items-center",p4:"",pb0:""},[o("div",{"i-ph-chart-bar-duotone":"","flex-none":""}),N(" Filter Results ")],-1)),o("div",uo,[o("div",po,[v(e,{number:i(w).filtered.packages.length,"rounded-full":"",color:"badge-color-primary"},null,8,["number"]),n[0]||(n[0]=o("span",{op50:""},"of",-1)),v(e,{number:i(w).avaliable.packages.length,"rounded-full":""},null,8,["number"]),n[1]||(n[1]=o("span",{op50:""},"packages filtered",-1))]),i(w).excluded.packages.length?(p(),c("div",co,[n[2]||(n[2]=o("span",{op25:""},"(",-1)),v(e,{number:i(w).excluded.packages.length,"rounded-full":""},null,8,["number"]),n[3]||(n[3]=o("span",{op50:""},"packages excluded",-1)),n[4]||(n[4]=o("span",{op25:""},")",-1))])):x("",!0)]),v(a,{packages:i(w).filtered.packages,rounded:!1},null,8,["packages"])])}}}),fo={p4:"",flex:"~ gap-2 items-center"},mo=["disabled"],vo={flex:"~ col gap-4",border:"t base"},bo={p4:"","flex-none":"","h-full":"",flex:"~ items-center gap-1.5","hover:bg-active":""},ho={flex:"~ col gap-4",p4:"",border:"t base"},_o={key:0,flex:"~ col gap-2",p4:"",border:"t base"},xo={flex:"~ gap-2 wrap"},yo={key:1,flex:"~ col gap-2",p4:"",border:"t base"},ko={flex:"~ gap-2 wrap"},$o=C({__name:"Filters",setup(t){return(s,n)=>{var _,b;const e=Ie,a=Me,u=Bn,r=Gn,d=qn,l=to,h=ao,y=go;return p(),c("div",null,[o("div",fo,[o("button",{"btn-action":"",disabled:i(f).select.activated.length===0,onClick:n[0]||(n[0]=R=>i(f).select.reset())},n[4]||(n[4]=[o("div",{"i-ph-funnel-x-duotone":""},null,-1),N(" Reset Filters ")]),8,mo)]),o("div",vo,[o("label",bo,[o("div",{"i-ph-text-t-duotone":"","text-lg":"",class:T(i(f).search?"text-primary":"op50"),"flex-none":""},null,2),I(o("input",{"onUpdate:modelValue":n[1]||(n[1]=R=>i(f).state.search=R),placeholder:"Filter by Text","w-full":"","bg-transparent":"","outline-none":""},null,512),[[at,i(f).state.search]]),o("button",{"w-6":"","h-6":"","rounded-full":"","hover:bg-active":"",flex:"",class:T(i(f).state.search?"":"op0"),onClick:n[2]||(n[2]=R=>i(f).state.search="")},n[5]||(n[5]=[o("div",{"i-ph-x":"",ma:"",op50:""},null,-1)]),2)])]),o("div",ho,[v(a,{title:"Dependency Source",description:"Filter by source type of the dependency"},{default:k(()=>[v(e,{modelValue:i(f).state.sourceType,"onUpdate:modelValue":n[3]||(n[3]=R=>i(f).state.sourceType=R),options:[null,"prod","dev"],titles:["All","Prod","Dev"]},null,8,["modelValue"])]),_:1})]),v(u),v(r),(_=i(f).search.parsed.author)!=null&&_.length?(p(),c("div",_o,[n[6]||(n[6]=o("div",{flex:"~ gap-2 items-center"},[o("div",{"i-ph-user-circle-duotone":"","flex-none":""}),o("div",null,[o("div",null,"Authors")])],-1)),o("div",xo,[(p(!0),c(P,null,B(i(f).search.parsed.author,(R,U)=>(p(),c("div",{key:U,"font-mono":"","text-sm":"","badge-color-gray":"","rounded-full":"",px2:"","py0.5":"",flex:"~ gap-1 items-center"},D(R.source),1))),128))])])):x("",!0),(b=i(f).search.parsed.license)!=null&&b.length?(p(),c("div",yo,[n[7]||(n[7]=o("div",{flex:"~ gap-2 items-center"},[o("div",{"i-ph-file-text-duotone":"","flex-none":""}),o("div",null,[o("div",null,"License")])],-1)),o("div",ko,[(p(!0),c(P,null,B(i(f).search.parsed.license,(R,U)=>(p(),c("div",{key:U,"font-mono":"","text-sm":"","badge-color-gray":"","rounded-full":"",px2:"","py0.5":"",flex:"~ gap-1 items-center"},D(R.source),1))),128))])])):x("",!0),v(d),v(l),v(h),v(y)])}}}),wo={flex:"~ items-center gap-1"},Eo={key:0,"text-sm":"",op50:""},To={key:1,"text-sm":""},So={key:0},Po={key:1},Do={key:2},Oo=C({__name:"VersionWithUpdates",props:{version:{},latest:{}},setup(t){const s=t,n=E(()=>!s.latest||!s.version?"":qe.diff(s.latest.version,s.version)),e=E(()=>!s.latest||!s.version?!1:qe.gt(s.latest.version,s.version));return(a,u)=>{const r=Oe,d=Re;return a.version?(p(),S(i(st),{key:0},{popper:k(()=>[a.latest?a.latest.version===a.version?(p(),c("div",Po,[u[1]||(u[1]=N(" Up to date, last published at ")),v(d,{time:a.latest.publishedAt,"inline-block":""},null,8,["time"])])):e.value?(p(),c("div",Do,[N(" New "+D(n.value)+" version ",1),v(r,{"inline-block":"","text-primary":"",version:a.latest.version},null,8,["version"]),u[2]||(u[2]=N(" published at ")),v(d,{"inline-block":"",rounded:"",time:a.latest.publishedAt},null,8,["time"]),u[3]||(u[3]=N(" is available "))])):x("",!0):(p(),c("div",So," Version v"+D(a.version),1))]),default:k(()=>[o("div",wo,[v(r,{version:a.version,op75:""},null,8,["version"]),a.latest?(p(),c(P,{key:0},[a.latest.version===a.version||!e.value?(p(),c("div",Eo,u[0]||(u[0]=[o("div",{"i-ph-calendar-check-duotone":""},null,-1)]))):n.value?(p(),c("div",To,[o("div",{class:T(n.value==="major"?"i-ph-arrow-fat-lines-up-duotone text-red":"i-ph-arrow-fat-line-up-duotone text-lime")},null,2)])):x("",!0)],64)):x("",!0)])]),_:1})):x("",!0)}}}),Co={"i-catppuccin-code-of-conduct":"","icon-catppuccin":"",ma:"",title:"Show Fundings"},Ro={flex:"~ col",p1:""},Fo=C({__name:"PackageFunding",props:{fundings:{}},setup(t){return(s,n)=>{var r,d;const e=Fe,a=qt,u=Z("tooltip");return((r=s.fundings)==null?void 0:r.length)===1?I((p(),S(e,{key:0,to:s.fundings[0].url,title:"Open Funding Page",target:"_blank","ml--1":"","w-8":"","h-8":"","rounded-full":"","hover:bg-active":"",flex:""},{default:k(()=>n[0]||(n[0]=[o("div",{"i-catppuccin-code-of-conduct":"","icon-catppuccin":"",ma:""},null,-1)])),_:1},8,["to"])),[[u,"Open Funding Page"]]):(d=s.fundings)!=null&&d.length?(p(),S(i(it),{key:1,"ml--1":"","w-8":"","h-8":"","rounded-full":"","hover:bg-active":"",flex:""},{popper:k(()=>[o("div",Ro,[(p(!0),c(P,null,B(s.fundings,l=>(p(),S(a,{key:l.url,funding:l,p2:"",rounded:"","font-mono":"","hover:bg-active":""},null,8,["funding"]))),128))])]),default:k(()=>[I(o("div",Co,null,512),[[u,"Show Fundings"]])]),_:1})):x("",!0)}}});function O(t){let s="pkg";for(const n of t)/^\d+$/.test(n)?s+=`[${n}]`:/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(n)?s+="."+n:s+=`["${n}"]`;return s}function Mo(t,s){let n=t;for(const e of s)n=n[e];return n}function re(t,s,n){const e=t.lastIndexOf(s);return e===-1?t:t.slice(0,e)+n+t.slice(e+s.length)}var ce={exports:{}},Ze;function Io(){if(Ze)return ce.exports;Ze=1;var t=String,s=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t,blackBright:t,redBright:t,greenBright:t,yellowBright:t,blueBright:t,magentaBright:t,cyanBright:t,whiteBright:t,bgBlackBright:t,bgRedBright:t,bgGreenBright:t,bgYellowBright:t,bgBlueBright:t,bgMagentaBright:t,bgCyanBright:t,bgWhiteBright:t}};return ce.exports=s(),ce.exports.createColors=s,ce.exports}var Lo=Io();const _e=It(Lo);function Vo(t,s,n={}){const e=No(n.color),a=u=>{try{return String(Mo(s,u))}catch{return"undefined"}};switch(t.code){case"IMPLICIT_INDEX_JS_INVALID_FORMAT":return`index.js should be ${t.args.expectFormat} but it is ${t.args.actualFormat}`;case"FILE_INVALID_FORMAT":{const r=t.args.actualFilePath??a(t.path);let d="";if(n.reference||t.path[0]==="name")d=e.bold(r);else{const l=a(t.path).includes("*")?"matches":"is";d=`${e.bold(O(t.path))} ${l} ${e.bold(r)} and`}return`${d} is written in ${e.warn(t.args.actualFormat)}, but is interpreted as ${e.warn(t.args.expectFormat)}. Consider using the ${e.warn(t.args.expectExtension)} extension, e.g. ${e.bold(re(r,".js",t.args.expectExtension))}`}case"FILE_INVALID_EXPLICIT_FORMAT":{const r=t.args.actualFilePath??a(t.path);let d="";if(n.reference||t.path[0]==="name")d=e.bold(r);else{const l=a(t.path).includes("*")?"matches":"is";d=`${e.bold(O(t.path))} ${l} ${e.bold(r)} and`}return`${d} ends with the ${e.warn(t.args.actualExtension)} extension, but the code is written in ${e.warn(t.args.actualFormat)}. Consider using the ${e.warn(t.args.expectExtension)} extension, e.g. ${e.bold(re(r,t.args.actualExtension,t.args.expectExtension))}`}case"FILE_INVALID_JSX_EXTENSION":{const r=t.args.globbedFilePath??a(t.path);let d="";if(n.reference||t.path[0]==="name")d=e.bold(r);else{const l=t.args.globbedFilePath?"matches":"is";d=`${e.bold(O(t.path))} ${l} ${e.bold(r)} and`}return`${d} uses an invalid ${e.bold(t.args.actualExtension)} extension. You don't need to split ESM and CJS formats for JSX. You should write a single file in ESM with the ${e.bold(".jsx")} extension instead, e.g. ${e.bold(re(a(t.path),t.args.actualExtension,".jsx"))}`}case"FILE_DOES_NOT_EXIST":return n.reference?"File does not exist":`${e.bold(O(t.path))} is ${e.bold(a(t.path))} but the file does not exist.`;case"FILE_NOT_PUBLISHED":return n.reference?`File is not published. Is it specified in ${e.bold("pkg.files")}?`:`${e.bold(O(t.path))} is ${e.bold(a(t.path))} but the file is not published. Is it specified in ${e.bold("pkg.files")}?`;case"HAS_ESM_MAIN_BUT_NO_EXPORTS":return`${e.bold("pkg.main")} is an ESM file, but it is usually better to use ${e.bold("pkg.exports")} instead. If you don't support Node.js 12.6 and below, you can also remove ${e.bold("pkg.main")}. (This will be a breaking change)`;case"HAS_MODULE_BUT_NO_EXPORTS":return`${e.bold("pkg.module")} is used to output ESM, but ${e.bold("pkg.exports")} is not defined. As Node.js doesn't read ${e.bold("pkg.module")}, the ESM output may be skipped. Consider adding ${e.bold("pkg.exports")} to export the ESM output. ${e.bold("pkg.module")} can usually be removed alongside too. (This will be a breaking change)`;case"MODULE_SHOULD_BE_ESM":case"EXPORTS_MODULE_SHOULD_BE_ESM":case"IMPORTS_MODULE_SHOULD_BE_ESM":return`${n.reference?"Should":`${e.bold(O(t.path))} should`} be ESM, but the code is written in CJS.`;case"EXPORTS_GLOB_NO_MATCHED_FILES":case"IMPORTS_GLOB_NO_MATCHED_FILES":return`${n.reference?"Does":`${e.bold(O(t.path))} is ${e.bold(a(t.path))} but does`} not match any files.`;case"EXPORTS_GLOB_NO_DEPRECATED_SUBPATH_MAPPING":case"IMPORTS_GLOB_NO_DEPRECATED_SUBPATH_MAPPING":return`${e.bold(O(t.path))} maps to a path that ends with ${e.bold("/")} which is deprecated. Use ${e.bold(O(t.args.expectPath))}: "${e.bold(t.args.expectValue)}" instead.`;case"EXPORTS_TYPES_SHOULD_BE_FIRST":return`${n.reference?"Should":`${e.bold(O(t.path))} should`} be the first in the object as conditions are order-sensitive so it can be resolved by TypeScript.`;case"EXPORTS_MODULE_SHOULD_PRECEDE_REQUIRE":case"IMPORTS_MODULE_SHOULD_PRECEDE_REQUIRE":return`${n.reference?"Should":`${e.bold(O(t.path))} should`} come before the "require" condition so it can take precedence when used by a bundler.`;case"EXPORTS_DEFAULT_SHOULD_BE_LAST":case"IMPORTS_DEFAULT_SHOULD_BE_LAST":return`${n.reference?"Should":`${e.bold(O(t.path))} should`} be the last in the object so it doesn't take precedence over the keys following it.`;case"EXPORTS_VALUE_INVALID":case"IMPORTS_VALUE_INVALID":return`${n.reference?e.bold(a(t.path)):`${e.bold(O(t.path))} is ${e.bold(a(t.path))} but`} is invalid as it does not start with "${e.bold("./")}". Use ${e.bold(t.args.suggestValue)} instead.`;case"EXPORTS_MISSING_ROOT_ENTRYPOINT":{const r=t.args.mainFields[0];return`${n.reference?"The root entrypoint is missing":`${e.bold(O(t.path))} is missing the root entrypoint export`}, which is defined in ${e.bold("pkg."+r)}. Environments that support the ${e.bold('"exports"')} field will ignore ${e.bold("pkg."+r)} as ${e.bold('"exports"')} takes the highest priority. Consider adding ${e.bold(O(t.path.concat(".")))}: "${e.bold(a([r]))}".`}case"USE_EXPORTS_BROWSER":return`${e.bold("pkg.browser")} with a string value can be refactored to use ${e.bold("pkg.exports")} and the ${e.bold('"browser"')} condition to declare browser-specific exports. e.g. ${e.bold('pkg.exports["."].browser')}: "${e.bold(a(t.path))}". (This will be a breaking change)`;case"USE_EXPORTS_OR_IMPORTS_BROWSER":return`${e.bold("pkg.browser")} with an object value can be refactored to use ${e.bold("pkg.exports")}/${e.bold("pkg.imports")} and the ${e.bold('"browser"')} condition to declare browser-specific exports. (This will be a breaking change)`;case"USE_FILES":return`The package ${e.bold("publishes internal tests or config files")}. You can use ${e.bold("pkg.files")} to only publish certain files and save user bandwidth.`;case"USE_TYPE":return`The package does not specify the ${e.bold('"type"')} field. Node.js may attempt to detect the package type causing a small performance hit. Consider adding ${e.bold('"type"')}: "${e.bold("commonjs")}".`;case"USE_LICENSE":return`The package does not specify the ${e.bold('"license"')} field but a license file was detected at ${e.bold(t.args.licenseFilePath)}. Consider adding a ${e.bold('"license"')} field so it's displayed on npm.`;case"TYPES_NOT_EXPORTED":{const r=Bo(t.args.typesFilePath),d=n.reference?"The":e.bold(O(t.path));return t.args.actualExtension&&t.args.expectExtension?`${d} types is not exported. Consider adding ${e.bold(O(t.path)+".types")} to be compatible with TypeScript's ${e.bold('"moduleResolution": "bundler"')} compiler option. Note that you cannot use "${e.bold(r)}" because it has a mismatching format. Instead, you can duplicate the file and use the ${e.bold(t.args.expectExtension)} extension, e.g. ${e.bold(O(t.path)+".types")}: "${e.bold(re(r,t.args.actualExtension,t.args.expectExtension))}"`:`${d} types is not exported. Consider adding ${e.bold(O(t.path)+".types")}: "${e.bold(r)}" to be compatible with TypeScript's ${e.bold('"moduleResolution": "bundler"')} compiler option.`}case"EXPORTS_TYPES_INVALID_FORMAT":{let r="";return t.args.expectFormat==="ESM"&&t.args.actualFormat==="CJS"?r="This causes the types to be ambiguous when default importing the package due to its implied interop. ":t.args.expectFormat==="CJS"&&t.args.actualFormat==="ESM"&&(r="This causes the types to only work when dynamically importing the package, even though the package exports CJS. "),`${n.reference?"The":e.bold(O(t.path))} types is interpreted as ${t.args.actualFormat} when resolving with the "${e.bold(t.args.condition)}" condition. `+r+`Consider splitting out two ${e.bold('"types"')} conditions for ${e.bold('"import"')} and ${e.bold('"require"')}, and use the ${e.warn(t.args.expectExtension)} extension, e.g. ${e.bold(O(t.args.expectPath))}: "${e.bold(re(a(t.path),t.args.actualExtension,t.args.expectExtension))}"`}case"FIELD_INVALID_VALUE_TYPE":{let r=t.args.expectTypes[0];for(let l=1;l<t.args.expectTypes.length;l++)l===t.args.expectTypes.length-1?r+=` or ${t.args.expectTypes[l]}`:r+=`, ${t.args.expectTypes[l]}`;return`${n.reference?"The field value has":`${e.bold(O(t.path))} is ${e.bold(a(t.path))} which is`} an invalid ${e.bold(t.args.actualType)} type. Expected a ${e.bold(r)} type instead.`}case"EXPORTS_VALUE_CONFLICTS_WITH_BROWSER":return`${n.reference?`${e.bold(a(t.path))} matches`:`${e.bold(O(t.path))} is ${e.bold(a(t.path))} which also matches`} ${e.bold(O(t.args.browserPath))}: "${e.bold(a(t.args.browserPath))}", which overrides the path when building the library with the "${e.bold(t.args.browserishCondition)}" condition. This is usually unintentional and may cause build issues. Consider using a different file name for ${e.bold(a(t.path))}.`;case"DEPRECATED_FIELD_JSNEXT":return`${e.bold(O(t.path))} is deprecated. ${e.bold("pkg.module")} should be used instead.`;case"INVALID_REPOSITORY_VALUE":switch(t.args.type){case"invalid-string-shorthand":return`${n.reference?"The field value":`${e.bold(O(t.path))} is ${e.bold(a(t.path))} which`} isn't a valid shorthand value supported by npm. Consider using an object that references a repository.`;case"invalid-git-url":return`${n.reference?"The field value":`${e.bold(O(t.path))} is ${e.bold(a(t.path))} which`} isn't a valid git URL. A valid git URL is usually in the form of "${e.bold("git+https://example.com/user/repo.git")}".`;case"deprecated-github-git-protocol":return`${n.reference?"The field value":`${e.bold(O(t.path))} is ${e.bold(a(t.path))} which`} uses the git:// protocol that is deprecated by GitHub due to security concerns. Consider replacing the protocol with https://.`;case"shorthand-git-sites":return`${n.reference?"The field value":`${e.bold(O(t.path))} is ${e.bold(a(t.path))} but`} could be a full git URL like "${e.bold(t.args.suggestValue)}".`}case"LOCAL_DEPENDENCY":return n.reference?"This dependency references a local package that will likely not work when installed by end-users.":`The "${e.bold(t.path[t.path.length-1])}" dependency references "${e.bold(a(t.path))}" that will likely not work when installed by end-users.`;case"BIN_FILE_NOT_EXECUTABLE":return`${n.reference?"This bin file":`${e.bold(O(t.path))} is ${e.bold(a(t.path))} but the file`} is not executable. It should start with a shebang, e.g. ${e.bold("#!/usr/bin/env node")}.`;case"IMPORTS_KEY_INVALID":return`${n.reference?"The imports key is invalid as it":`${e.bold(O(t.path))} is invalid as the imports key`} does not start with "${e.bold("#")}". Use ${e.bold(t.args.suggestKey)} instead.`;default:return}}let xe;function No(t){let s,n;switch(t){case"html":s=e=>`<strong>${e}</strong>`,n=e=>`<strong>${e}</strong>`;break;case!0:xe??(xe=_e.createColors(!0)),s=e=>xe.bold(e),n=e=>xe.yellow(e);break;case!1:s=e=>e,n=e=>e;break;default:s=e=>_e.bold(e),n=e=>_e.yellow(e);break}return{bold:s,warn:n}}function Bo(t){return t[0]==="."?t:t[0]==="/"?"."+t:"./"+t}const Ao={key:0,block:""},Uo={key:0,"badge-color-green":"","rounded-full":"","text-sm":"","py0.5":"",px2:"",flex:"~ items-center gap-1"},jo={"text-xs":"",ml1:"",op50:""},zo={"text-xs":"",ml1:"",op50:""},Ho={"text-xs":"",ml1:"",op50:""},Go={key:4,p1:"","rounded-full":"","hover:bg-active":"","mr--2":"",title:"Toggle file composition"},Xo=["href"],Wo=["innerHTML"],Yo=C({__name:"PublintPanel",props:{pkg:{},messages:{}},setup(t){const s=t,n=E(()=>{const u={error:0,warning:0,suggestion:0};for(const r of s.messages||[])u[r.type]++;return u}),e={error:"i-ph-x-duotone text-red",warning:"i-ph-warning-duotone text-amber",suggestion:"i-ph-info-duotone text-blue"},a={error:"dark:text-red2:75 text-red8:75",warning:"dark:text-amber2:75 text-amber8:75",suggestion:"dark:text-blue2:75 text-blue8:75"};return(u,r)=>{const d=de,l=Z("tooltip");return u.messages?(p(),c("div",Ao,[o("button",{flex:"~ gap-2 items-center","w-full":"",p4:"","select-none":"",onClick:r[0]||(r[0]=h=>i($).showPublintMessages=!i($).showPublintMessages)},[r[2]||(r[2]=o("span",{op50:"","text-sm":""},"publint",-1)),u.messages.length?x("",!0):(p(),c("div",Uo,r[1]||(r[1]=[o("div",{"i-ph-checks-bold":""},null,-1),o("span",{"text-green6":"","dark:text-green":"","text-xs":""},"All Good",-1)]))),n.value.error?(p(),S(d,{key:1,number:n.value.error,"rounded-full":"","text-sm":"",color:"badge-color-red"},{after:k(()=>[o("span",jo,"error"+D(n.value.error>1?"s":""),1)]),_:1},8,["number"])):x("",!0),n.value.warning?(p(),S(d,{key:2,number:n.value.warning,"rounded-full":"","text-sm":"",color:"badge-color-amber"},{after:k(()=>[o("span",zo,"warning"+D(n.value.warning>1?"s":""),1)]),_:1},8,["number"])):x("",!0),n.value.suggestion?(p(),S(d,{key:3,number:n.value.suggestion,"rounded-full":"","text-sm":"",color:"badge-color-blue"},{after:k(()=>[o("span",Ho,"suggestion"+D(n.value.suggestion>1?"s":""),1)]),_:1},8,["number"])):x("",!0),r[3]||(r[3]=o("div",{"flex-auto":""},null,-1)),u.messages.length?I((p(),c("button",Go,[o("div",{"i-ph-caret-down":"",transition:"","duration-300":"",class:T(i($).showPublintMessages?"op75":"rotate-90 op25")},null,2)])),[[l,"Toggle file composition"]]):x("",!0)]),i($).showPublintMessages&&u.messages.length?(p(),c("a",{key:0,flex:"~ col gap-2",p3:"","mt--2":"","of-x-auto":"","w-full":"",href:`https://publint.dev/${s.pkg.spec}`,target:"_blank",class:T(u.messages.length>0?"hover:bg-active":"")},[(p(!0),c(P,null,B(u.messages,h=>(p(),c("div",{key:h.code,"text-sm":"",flex:"~ gap-2"},[o("div",{class:T(e[h.type]),"flex-none":"","mt0.5":""},null,2),o("div",{rounded:"","line-clamp-3":"","break-all":"",class:T(a[h.type]),innerHTML:i(Vo)(h,u.pkg.resolved.packageJson,{color:"html"})},null,10,Wo)]))),128))],10,Xo)):x("",!0)])):x("",!0)}}}),Ko=C({name:"RenderNextTick",setup(t,{slots:s}){const n=te(!1);return setTimeout(()=>{n.value=!0},0),()=>n.value?ye(s,"default"):ye(s,"fallback")}}),qo={flex:"~ col gap-1"},Jo={key:1,ml6:""},Qo={op50:"",px2:"","bg-active":"",rounded:"","text-sm":""},yt=C({__name:"Dependencies",props:{currents:{},list:{},type:{},seen:{},depth:{default:1},maxDepth:{default:6}},setup(t){const s=t,n=E(()=>{var a;return[...s.seen||[],...((a=s.currents)==null?void 0:a.map(u=>u.spec))||[]]}),e=E(()=>{var a;return(a=s.currents)==null?void 0:a.filter(u=>!!u).map(u=>{var r;return{pkg:u,children:(r=s.list)==null?void 0:r.filter(d=>n.value.includes(d.spec)?!1:s.type==="dependents"?d.dependents.has(u.spec):s.type==="dependencies"?u.dependencies.has(d.spec):!1)}}).sort((u,r)=>{var d,l;return(((d=r.children)==null?void 0:d.length)||0)-(((l=u.children)==null?void 0:l.length)||0)})});return(a,u)=>{const r=ln,d=yt,l=Ko;return p(),c("div",qo,[(p(!0),c(P,null,B(e.value,({pkg:h,children:y})=>(p(),c(P,{key:h.spec},[v(r,{pkg:h},null,8,["pkg"]),y!=null&&y.length?(p(),c(P,{key:0},[s.depth<s.maxDepth?(p(),S(l,{key:0},{default:k(()=>[v(d,{ml4:"",currents:y,list:s.list,type:s.type,seen:n.value,depth:s.depth+1,"max-depth":s.maxDepth},null,8,["currents","list","type","seen","depth","max-depth"])]),_:2},1024)):s.maxDepth>2?(p(),c("div",Jo,[o("span",Qo,D(y==null?void 0:y.length)+" more ··· ",1)])):x("",!0)],64)):x("",!0)],64))),128))])}}}),Zo={key:0,"of-hidden":"","h-full":"",flex:"~ col gap-0"},es={absolute:"","top-2":"","right-2":"",flex:"~ items-center gap-0"},ts={flex:"~ col gap-2",p5:"",pb2:""},ns={flex:"~ items-center wrap gap-2"},os={key:0,"badge-color-gray":"",px2:"",rounded:"","text-sm":"",border:"~ base dashed"},ss={key:1,"badge-color-lime":"",px2:"",rounded:"","text-sm":""},ls={pl2:"",pr1:"",rounded:"","bg-rose:10":"","text-rose":"","text-sm":"",flex:"~ items-center gap-1"},rs={flex:"~ col",p1:""},as=["onClick"],is={flex:"~ gap--1 items-center"},ds={flex:"~ gap-2 wrap items-center"},us={key:0,"text-xs":"",op50:""},ps={key:0,px4:"",my2:"",flex:"~ gap-2 wrap items-center"},cs={grid:"~ cols-3 gap-2 items-center",p2:""},gs={key:1,border:"t rounded base"},fs={key:2,p4:"",border:"t base",flex:"~ col gap-1"},ms={flex:"~ gap-3 wrap items-center"},vs={key:0,flex:"~ items-center gap-1"},bs={key:1,flex:"~ items-center gap-1"},hs={key:0,flex:"~ gap-1 col"},_s={flex:"~","select-none":"","h-10":"","mt-2":""},xs={border:"b base",pt2:"",px2:""},ys={flex:"~ col gap-1","flex-auto":"","of-auto":""},ks={key:1,op25:"",italic:"","text-center":"",py3:""},$s={p4:"",flex:"~ col gap-1"},ws={key:1,op25:"",italic:"","text-center":"",pb4:""},Es=C({__name:"PackageDetails",props:{pkg:{}},setup(t){const s=t,n=we(),e=E(()=>{const m=w.filtered.versions.get(s.pkg.name);if(m&&(m==null?void 0:m.length)>1)return m}),a=E(()=>w.excluded.has(s.pkg)),u=E(()=>Lt(s.pkg)),r=E(()=>[...w.avaliable.flatClusters(s.pkg)].filter(m=>!m.startsWith("dep:"))),d=E({get(){var m,g,F;return(m=f.state.focus)!=null&&m.includes(s.pkg.spec)?"focus":(g=f.state.why)!=null&&g.includes(s.pkg.spec)?"why":(F=f.state.excludes)!=null&&F.includes(s.pkg.spec)?"exclude":"none"},set(m){f.focus.toggle(s.pkg.spec,!1),f.why.toggle(s.pkg.spec,!1),f.excludes.toggle(s.pkg.spec,!1),m==="focus"&&f.focus.toggle(s.pkg.spec,!0),m==="why"&&f.why.toggle(s.pkg.spec,!0),m==="exclude"&&f.excludes.toggle(s.pkg.spec,!0)}});function l(m,g=1){return $.value.deepDependenciesTree?m>200?3:m>100?7:10:g}const h=E(()=>{var m;if(s.pkg.resolved.publint)return s.pkg.resolved.publint;if((m=Je.value)!=null&&m.has(s.pkg.spec))return Je.value.get(s.pkg.spec)});dt(h,async m=>{m===void 0&&Vt(s.pkg)},{immediate:!0});const y=E(()=>{var m;return((m=s.pkg.resolved.installSize)==null?void 0:m.bytes)||0}),_=E(()=>{const m=w.avaliable.flatDependencies(s.pkg);return m.length?[s.pkg,...m].reduce((g,F)=>{var A;return g+(((A=F.resolved.installSize)==null?void 0:A.bytes)||0)},0):0});function b(m){const g=w.avaliable.flatDependents(m);if(!g.length)return[];const F=Math.min(...g.map(A=>A.depth));return g.filter(A=>A.depth===F)}const R=E(()=>en(s.pkg)),U=E(()=>ht(s.pkg)),G=Ee();function X(m){f.state.focus=null,f.state.why=m.map(g=>g.spec),le.value=m[0],Te(()=>{G.push({path:"/graph",hash:location.hash})})}return(m,g)=>{var je,ze,He,Ge,Xe,We,Ye;const F=tn,A=Oo,K=De,ne=sn,L=Oe,j=Fe,z=Fo,V=Jt,ee=Re,H=Ce,St=Qt,Pt=Yo,Ae=_t,Dt=Zt,Ue=de,he=yt,Ot=Pe,Y=Z("tooltip");return m.pkg?(p(),c("div",Zo,[o("div",es,[o("button",{"w-10":"","h-10":"","rounded-full":"",op30:"",hover:"op100 bg-active",flex:"~ items-center justify-center",onClick:g[0]||(g[0]=M=>i(q).selected=void 0)},g[11]||(g[11]=[o("div",{"i-ph-x":""},null,-1)]))]),o("div",ts,[v(F,{name:m.pkg.name,"font-mono":"","text-2xl":"",flex:"~ wrap items-center gap-2",pr20:"",class:T((je=U.value)!=null&&je.latest?U.value.type==="future"?"text-orange line-through":"text-red line-through":"")},null,8,["name","class"]),o("div",ns,[v(A,{version:m.pkg.version,latest:R.value},null,8,["version","latest"]),v(K,{"text-sm":"",pkg:m.pkg,force:!0},null,8,["pkg"]),m.pkg.private?(p(),c("div",os," Private ")):x("",!0),m.pkg.workspace?(p(),c("div",ss," Workspace ")):x("",!0),v(ne,{pkg:m.pkg,mode:"both"},null,8,["pkg"]),e.value?(p(),S(i(it),{key:2,"font-mono":""},{popper:k(()=>[o("div",rs,[(p(!0),c(P,null,B(e.value,M=>(p(),c("button",{key:M.version,py1:"",px2:"",rounded:"",flex:"~ items-center gap-1","min-w-40":"","font-mono":"",hover:"bg-active",class:T(i(le)===M?"text-primary":""),onClick:Ke=>le.value=M},[v(L,{op75:"","flex-auto":"","text-left":"",version:M.version},null,8,["version"]),v(K,{force:!0,pkg:M,badge:!1,"text-xs":""},null,8,["pkg"])],10,as))),128)),g[14]||(g[14]=o("div",{border:"t base",my1:""},null,-1)),o("button",{py1:"",px2:"",rounded:"",flex:"~ items-center gap-1","min-w-40":"",hover:"bg-active",onClick:g[1]||(g[1]=M=>X(e.value))},g[13]||(g[13]=[o("div",{"i-ph-graph-duotone":""},null,-1),o("span",{"text-sm":""}," Compare in Graph",-1)]))])]),default:k(()=>[o("div",ls,[N(D(e.value.length)+" versions ",1),g[12]||(g[12]=o("div",{"i-ph-caret-down":"","text-xs":""},null,-1))])]),_:1})):x("",!0),o("div",is,[m.pkg.private?x("",!0):I((p(),S(j,{key:0,to:`https://www.npmjs.com/package/${m.pkg.name}/v/${m.pkg.version}`,title:"Open on NPM",target:"_blank","w-8":"","h-8":"","rounded-full":"","hover:bg-active":"",flex:""},{default:k(()=>g[15]||(g[15]=[o("div",{"i-catppuccin-npm":"","icon-catppuccin":"",ma:""},null,-1)])),_:1},8,["to"])),[[Y,"Open on NPM"]]),u.value.repository?I((p(),S(j,{key:1,to:u.value.repository,title:"Open Repository",target:"_blank","ml--1":"","w-8":"","h-8":"","rounded-full":"","hover:bg-active":"",flex:""},{default:k(()=>g[16]||(g[16]=[o("div",{"i-catppuccin-git":"","icon-catppuccin":"",ma:""},null,-1)])),_:1},8,["to"])),[[Y,"Open Repository"]]):x("",!0),u.value.homepage?I((p(),S(j,{key:2,to:u.value.homepage,title:"Open Homepage",target:"_blank","ml--1":"","w-8":"","h-8":"","rounded-full":"","hover:bg-active":"",flex:""},{default:k(()=>g[17]||(g[17]=[o("div",{"i-catppuccin-http":"","icon-catppuccin":"",ma:""},null,-1)])),_:1},8,["to"])),[[Y,"Open Homepage"]]):x("",!0),(ze=u.value.fundings)!=null&&ze.length?(p(),S(z,{key:3,fundings:u.value.fundings},null,8,["fundings"])):x("",!0),I((p(),S(j,{to:`https://publint.dev/${m.pkg.spec}`,title:"Open in Publint",target:"_blank","ml--1":"","w-8":"","h-8":"","rounded-full":"","hover:bg-active":"",flex:""},{default:k(()=>g[18]||(g[18]=[o("div",{"i-catppuccin-lib":"","icon-catppuccin":"",ma:""},null,-1)])),_:1},8,["to"])),[[Y,"Open in Publint"]]),(He=i(n))!=null&&He.functions.openInEditor?I((p(),c("button",{key:4,title:"Open Package Folder in Editor","ml--1":"","w-8":"","h-8":"","rounded-full":"","hover:bg-active":"",flex:"",onClick:g[2]||(g[2]=M=>i(n).functions.openInEditor(m.pkg.filepath))},g[19]||(g[19]=[o("div",{"i-catppuccin-folder-vscode":"","hover:i-catppuccin-folder-vscode-open":"","icon-catppuccin":"",ma:""},null,-1)]))),[[Y,"Open Package Folder in Editor"]]):x("",!0),(Ge=i(n))!=null&&Ge.functions.openInFinder?I((p(),c("button",{key:5,title:"Open Package Folder in File Explorer","ml--1":"","w-8":"","h-8":"","rounded-full":"","hover:bg-active":"",flex:"",onClick:g[3]||(g[3]=M=>i(n).functions.openInFinder(m.pkg.filepath))},g[20]||(g[20]=[o("div",{"i-catppuccin-folder-command":"","hover:i-catppuccin-folder-command-open":"","icon-catppuccin":"",ma:""},null,-1)]))),[[Y,"Open Package Folder in File Explorer"]]):x("",!0)])]),o("div",ds,[o("span",null,D(u.value.license),1),(Xe=u.value.authors)!=null&&Xe.length?(p(),c(P,{key:0},[g[21]||(g[21]=o("span",{op50:""},"·",-1)),(p(!0),c(P,null,B(u.value.authors,(M,Ke)=>(p(),c(P,{key:M.name},[Ke>0?(p(),c("span",us,"&")):x("",!0),(p(),S(ot(M.url?"a":"span"),{href:M.url,target:"_blank"},{default:k(()=>[N(D(M.name),1)]),_:2},1032,["href"]))],64))),128))],64)):x("",!0),(We=u.value.engines)!=null&&We.node?(p(),c(P,{key:1},[g[22]||(g[22]=o("span",{op50:""},"·",-1)),v(V,{range:(Ye=u.value.engines)==null?void 0:Ye.node},null,8,["range"])],64)):x("",!0),i(nn)(m.pkg)?(p(),c(P,{key:2},[g[23]||(g[23]=o("span",{op50:""},"·",-1)),v(ee,{pkg:m.pkg,"rounded-full":"","text-sm":""},null,8,["pkg"])],64)):x("",!0)])]),r.value.length?(p(),c("div",ps,[(p(!0),c(P,null,B(r.value,M=>(p(),S(H,{key:M,flex:"~ items-center gap-1",cluster:M},null,8,["cluster"]))),128))])):x("",!0),v(St,{pkg:m.pkg,mt2:"","border-y-2":"","border-dashed":""},null,8,["pkg"]),o("div",cs,[I((p(),c("button",{flex:"~ items-center gap-1 justify-center",px4:"",py1:"",rounded:"","hover:bg-active":"",class:T(d.value==="focus"?"text-teal bg-teal:10!":"op50"),onClick:g[4]||(g[4]=M=>d.value=d.value==="focus"?"none":"focus")},g[24]||(g[24]=[o("div",{"i-ph-arrows-in-cardinal-duotone":"","flex-none":""},null,-1),o("span",null,"Focus",-1)]),2)),[[Y,"Focus on this package and the dependencies it brings"]]),I((p(),c("button",{flex:"~ items-center gap-1 justify-center",px4:"",py1:"",rounded:"","hover:bg-active":"",class:T(d.value==="why"?"text-orange bg-orange:10!":"op50"),onClick:g[5]||(g[5]=M=>d.value=d.value==="why"?"none":"why")},g[25]||(g[25]=[o("div",{"i-ph-seal-question-duotone":"","flex-none":""},null,-1),o("span",null,"Why",-1)]),2)),[[Y,"Focus on the packages that brings this package"]]),I((p(),c("button",{flex:"~ items-center gap-1 justify-center",px4:"",py1:"",rounded:"","hover:bg-active":"",border:"~ transparent",class:T([d.value==="exclude"?"text-purple bg-purple:10!":a.value?"border-dashed! border-purple:50!":"op50"]),onClick:g[6]||(g[6]=M=>d.value=d.value==="exclude"?"none":"exclude")},g[26]||(g[26]=[o("div",{"i-ph-network-slash-duotone":"","flex-none":""},null,-1),o("span",null,"Exclude",-1)]),2)),[[Y,"Exclude this package and the dependencies it brings"]])]),h.value?(p(),c("div",gs,[v(Pt,{pkg:m.pkg,messages:h.value},null,8,["pkg","messages"])])):x("",!0),m.pkg.resolved.installSize?(p(),c("div",fs,[o("div",ms,[y.value?(p(),c("div",vs,[g[27]||(g[27]=o("div",{"text-sm":"",op50:""}," Install ",-1)),v(Ae,{bytes:y.value,"rounded-lg":""},null,8,["bytes"])])):x("",!0),_.value?(p(),c("div",bs,[g[28]||(g[28]=o("div",{"text-sm":"",op50:""}," Total ",-1)),v(Ae,{bytes:_.value,"rounded-lg":""},null,8,["bytes"])])):x("",!0),g[29]||(g[29]=o("div",{"flex-auto":""},null,-1)),I((p(),c("button",{p1:"","rounded-full":"","hover:bg-active":"","mr--2":"",title:"Toggle file composition",onClick:g[7]||(g[7]=M=>i($).showFileComposition=!i($).showFileComposition)},[o("div",{"i-ph-caret-down":"",transition:"","duration-300":"",class:T(i($).showFileComposition?"op75":"rotate-90 op25")},null,2)])),[[Y,"Toggle file composition"]])]),i($).showFileComposition?(p(),c("div",hs,[g[30]||(g[30]=o("div",{op50:"","text-sm":"",mt2:""}," File Composition ",-1)),v(Dt,{pkg:m.pkg},null,8,["pkg"])])):x("",!0)])):x("",!0),o("div",_s,[g[31]||(g[31]=o("div",{border:"b base","w-2":""},null,-1)),o("button",{"flex-1":"",border:"","border-base":"","rounded-t-lg":"",p1:"",flex:"~ items-center justify-center gap-1","transition-margin":"",class:T(i($).packageDetailsTab==="dependents"?"text-primary border-b-transparent":"saturate-0 hover:bg-active mt-5px"),onClick:g[8]||(g[8]=M=>i($).packageDetailsTab="dependents")},[o("span",{class:T(i($).packageDetailsTab==="dependents"?"":"op30")},"Used by",2),v(Ue,{"text-xs":"","rounded-full":"",number:i($).deepDependenciesTree?i(w).avaliable.flatDependents(m.pkg).length:i(w).avaliable.dependents(m.pkg).length},null,8,["number"])],2),g[32]||(g[32]=o("div",{border:"b base","w-2":""},null,-1)),o("button",{"flex-1":"",border:"","border-base":"","rounded-t-lg":"",p1:"",flex:"~ items-center justify-center gap-1","transition-margin":"",class:T(i($).packageDetailsTab==="dependencies"?"text-primary border-b-transparent":"saturate-0 hover:bg-active mt-5px"),onClick:g[9]||(g[9]=M=>i($).packageDetailsTab="dependencies")},[o("span",{class:T(i($).packageDetailsTab==="dependencies"?"":"op30")},"Deps on",2),v(Ue,{"text-xs":"","rounded-full":"",number:i($).deepDependenciesTree?i(w).avaliable.flatDependencies(m.pkg).length:i(w).avaliable.dependencies(m.pkg).length},null,8,["number"])],2),o("div",xs,[I((p(),c("button",{p1:"","rounded-full":"","hover:bg-active":"",title:"Toggle deep dependencies tree",onClick:g[10]||(g[10]=M=>i($).deepDependenciesTree=!i($).deepDependenciesTree)},[o("div",{op75:"",class:T(i($).deepDependenciesTree?"i-ph-text-align-right-duotone":"i-ph-text-align-justify-duotone")},null,2)])),[[Y,"Toggle deep dependencies tree"]])])]),o("div",ys,[i($).packageDetailsTab==="dependents"?(p(),c(P,{key:0},[i(w).avaliable.flatDependents(m.pkg).length?(p(),c(P,{key:0},[i($).deepDependenciesTree?(p(),S(he,{key:0,py5:"",px4:"",currents:b(m.pkg),list:i(w).avaliable.flatDependents(m.pkg),"max-depth":l(i(w).avaliable.flatDependents(m.pkg).length,2),type:"dependents"},null,8,["currents","list","max-depth"])):(p(),S(he,{key:1,py5:"",px4:"",currents:i(w).avaliable.dependents(m.pkg),list:i(w).avaliable.dependents(m.pkg),"max-depth":l(i(w).avaliable.dependents(m.pkg).length,2),type:"dependents"},null,8,["currents","list","max-depth"]))],64)):(p(),c("div",ks," No dependents "))],64)):i($).packageDetailsTab==="dependencies"?(p(),c(P,{key:1},[o("div",$s,[g[33]||(g[33]=o("div",{op50:"","text-sm":"",mt1:""}," Dependency Composition ",-1)),v(Ot,{pkg:m.pkg,flat:i($).deepDependenciesTree},null,8,["pkg","flat"])]),i(w).avaliable.flatDependencies(m.pkg).length?(p(),S(he,{key:0,py5:"",pt2:"",px4:"",currents:i(w).avaliable.dependencies(m.pkg),list:i(w).avaliable.flatDependencies(m.pkg),"max-depth":l(i(w).avaliable.flatDependencies(m.pkg).length),type:"dependencies"},null,8,["currents","list","max-depth"])):(p(),c("div",ws," No dependencies "))],64)):x("",!0)])])):x("",!0)}}}),Ts={flex:"~ col"},Ss={"text-lg":"",p5:"",flex:"~ gap-3 items-center"},Ps={"font-mono":"","text-sm":"",flex:"~ col items-end"},Ds={op50:""},Os={key:0,border:"t base",flex:"~ col gap-3",p5:""},Cs={key:0,flex:"~ gap-2 items-center"},Rs={"font-mono":"","break-after-all":"","text-left":"","leading-none":""},Fs={flex:"~ gap-2 items-center"},Ms={key:0,"i-catppuccin-pnpm":"","icon-catppuccin":"","flex-none":""},Is={key:1,"i-catppuccin-npm":"","icon-catppuccin":"","flex-none":""},Ls={flex:"~ gap-2 items-center"},Vs={key:4,flex:"~ gap-2 items-center"},Ns=10*60*1e3,Bs=C({__name:"Overview",setup(t){const s=we(),n=E(()=>Array.from(w.filtered.packages).filter(d=>{var l;return(l=ht(d))==null?void 0:l.current}).length),e=E(()=>Array.from(w.avaliable.versions.values()).filter(d=>d.length>1).length),a=E(()=>w.avaliable.packages.filter(d=>Nt(d)).length),u=E(()=>{const d=new Set;return w.avaliable.packages.forEach(l=>{d.add(l.resolved.packageJson.license||"<Unspecified>")}),d.size}),r=E(()=>{var d;return(d=W.value)!=null&&d.timestamp?Date.now()-W.value.timestamp:0});return(d,l)=>{var m;const h=bt,y=Oe,_=de,b=Fe,R=_t,U=Re,G=Pe,X=hn;return p(),c("div",Ts,[o("h1",Ss,[v(h,{"w-9":"","h-9":"",alt:"Logo",class:"hover:animate-spin-reverse"}),l[1]||(l[1]=o("div",{flex:"~ col gap-0","leading-none":""},[o("span",{"font-700":"","text-primary":""},"Node Modules"),o("span",{op75:""},"Inspector")],-1)),l[2]||(l[2]=o("div",{"flex-auto":""},null,-1)),o("span",Ps,[o("span",Ds,"v"+D(i(xt)),1)])]),i(W)?(p(),c("div",Os,[i(s).name==="webcontainer"?(p(),c("div",Cs,l[3]||(l[3]=[o("div",{"i-catppuccin-stackblitz":"","icon-catppuccin":"","flex-none":""},null,-1),o("a",{"break-after-all":"","text-left":"","leading-none":"",href:"https://webcontainers.io/",target:"_blank",hover:"underline"},"WebContainer",-1)]))):(p(),c("button",{key:1,flex:"~ gap-2 items-center",onClick:l[0]||(l[0]=g=>{var F,A;return(A=(F=i(s).functions).openInFinder)==null?void 0:A.call(F,i(W).root)})},[l[4]||(l[4]=o("div",{"i-catppuccin-folder-node-open":"","icon-catppuccin":"","flex-none":""},null,-1)),o("span",Rs,D(((m=i(W).config)==null?void 0:m.name)??i(W).root),1)])),o("div",Fs,[i(W).packageManager==="pnpm"?(p(),c("div",Ms)):i(W).packageManager==="npm"?(p(),c("div",Is)):x("",!0),o("span",null,D(i(W).packageManager),1),v(y,{version:i(W).packageManagerVersion,prefix:"@",op75:""},null,8,["version"])]),o("div",Ls,[l[5]||(l[5]=o("div",{"i-catppuccin-folder-packages-open":"","icon-catppuccin":"","flex-none":""},null,-1)),v(_,{number:i(w).workspace.packages.length,"rounded-full":"","text-sm":"","mx--0.2":"","mt-3px":"",color:"badge-color-yellow"},null,8,["number"]),l[6]||(l[6]=o("span",{"ml--0.5":""},"workspace packages",-1))]),v(b,{flex:"~ gap-2 items-center",to:"/grid"},{default:k(()=>[l[7]||(l[7]=o("div",{"i-catppuccin-java-class":"","icon-catppuccin":"","flex-none":""},null,-1)),v(_,{number:i(w).avaliable.packages.length,"rounded-full":"","text-sm":"","mx--0.2":"","mt-3px":"",color:"badge-color-primary"},null,8,["number"]),l[8]||(l[8]=o("span",{"ml--0.5":""},"total packages",-1))]),_:1}),n.value?(p(),S(b,{key:2,flex:"~ gap-2 items-center",to:"/report/deprecated"},{default:k(()=>[l[9]||(l[9]=o("div",{"i-ph-warning-duotone":"","flex-none":"","text-red":""},null,-1)),v(_,{number:n.value,"rounded-full":"","text-sm":"","mx--0.2":"","mt-3px":"",color:"badge-color-red"},null,8,["number"]),l[10]||(l[10]=o("span",{"ml--0.5":"","text-red":""},"deprecated packages",-1))]),_:1})):x("",!0),e.value?(p(),S(b,{key:3,flex:"~ gap-2 items-center",to:"/report/multiple-versions"},{default:k(()=>[l[11]||(l[11]=o("div",{"i-catppuccin-java-enum":"","icon-catppuccin":"","flex-none":""},null,-1)),v(_,{number:e.value,"rounded-full":"","text-sm":"","mx--0.2":"","mt-3px":"",color:"badge-color-orange"},null,8,["number"]),l[12]||(l[12]=o("span",{"ml--0.5":""},"libraries with multiple versions",-1))]),_:1})):x("",!0),v(b,{flex:"~ gap-2 items-center",to:"/report/licenses"},{default:k(()=>[l[13]||(l[13]=o("div",{"i-catppuccin-license":"","icon-catppuccin":"","flex-none":""},null,-1)),v(_,{number:u.value,"rounded-full":"","text-sm":"","mx--0.2":"","mt-3px":"",color:"badge-color-amber"},null,8,["number"]),l[14]||(l[14]=o("span",{"ml--0.5":""},"type of licenses",-1))]),_:1}),v(b,{flex:"~ gap-2 items-center",to:"/report/funding"},{default:k(()=>[l[15]||(l[15]=o("div",{"i-catppuccin-code-of-conduct":"","icon-catppuccin":"","flex-none":""},null,-1)),v(_,{number:a.value,"rounded-full":"","text-sm":"","mx--0.2":"","mt-3px":"",color:"badge-color-pink"},null,8,["number"]),l[16]||(l[16]=o("span",{"ml--0.5":""},"packages request for funding",-1))]),_:1}),v(b,{flex:"~ gap-2 items-center",to:"/report/install-size"},{default:k(()=>[l[17]||(l[17]=o("div",{"i-catppuccin-binary":"","icon-catppuccin":"","flex-none":""},null,-1)),v(R,{bytes:i(on),precent:!1,"rounded-full":"","text-sm":"","mx--0.2":"","mt-3px":"",color:"badge-color-primary"},null,8,["bytes"]),l[18]||(l[18]=o("span",{"ml--0.5":""},"total node_modules size",-1))]),_:1}),r.value>=Ns?(p(),c("div",Vs,[l[19]||(l[19]=o("div",{"i-catppuccin-changelog":"","icon-catppuccin":"","flex-none":""},null,-1)),v(U,{time:i(W).timestamp,colorize:!1,"rounded-full":"","text-sm":"","mx--0.2":"","mt-3px":"",color:"badge-color-primary"},null,8,["time"]),l[20]||(l[20]=o("span",{"ml--0.5":""},"last updated",-1))])):x("",!0)])):x("",!0),o("div",null,[v(G,{packages:i(w).avaliable.packages,rounded:!1},null,8,["packages"])]),v(X,{border:"t base"})])}}}),As={key:0,fixed:"","right-28":"","top-5":"","z-panel-nav":"","bg-glass":"","rounded-3xl":"",border:"","border-base":"",shadow:"",flex:"~"},Us={key:0,absolute:"","top--2":"","right--2":"","w-4":"","h-4":"","bg-primary-600":"",shadow:"","text-white":"","rounded-full":"",flex:"","text-0.6rem":""},js={ma:""},zs={key:0,border:"l base",flex:"~ gap-1 items-center",px2:""},Hs={key:1,border:"l base",flex:"~ gap-1 items-center",px2:""},Gs={capitalize:""},Xs={key:2,border:"l base",flex:"~ gap-1 items-center",px2:""},Ws={flex:"~ gap-1 wrap"},Ys={key:3,border:"l base",flex:"~ gap-1 items-center",px2:""},Ks={key:4,border:"l base",flex:"~ gap-1 items-center",px2:""},qs={key:5,border:"l base",flex:"~ gap-1 items-center",px2:""},Js={key:6,border:"l base",flex:"~ gap-1 items-center",px2:""},Qs={key:7,border:"l base",flex:"~ gap-1 items-center","font-mono":"",px2:""},Zs={key:8,border:"l base",flex:"~ gap-1 items-center","font-mono":"",px2:""},el=C({__name:"FiltersMini",setup(t){function s(e){return E({get(){return f.state.modules==null||f.state.modules.includes(e)},set(a){const u=new Set(f.state.modules?f.state.modules:se.value);a?u.add(e):u.delete(e),u.size>=se.value.length?f.state.modules=null:f.state.modules=Array.from(u)}})}const n=Object.fromEntries(rt.map(e=>[e,s(e)]));return(e,a)=>{var l,h,y;const u=Ce,r=De,d=Z("tooltip");return i(f).select.activated.length?(p(),c("div",As,[o("button",{relative:"",pl2:"",pr1:"",onClick:a[0]||(a[0]=_=>i(q).selected="~filters")},[a[2]||(a[2]=o("div",{"i-ph-funnel-duotone":"","text-xl":"",op50:""},null,-1)),i(f).select.activated.length?(p(),c("div",Us,[o("span",js,D(i(f).select.activated.length),1)])):x("",!0)]),i(f).search.parsed.text?(p(),c("div",zs,[a[3]||(a[3]=o("div",{"i-ph-text-t-duotone":""},null,-1)),N(" "+D(i(f).search.parsed.text),1)])):x("",!0),i(ue)(i(f).state.sourceType,i(pe).sourceType)?x("",!0):(p(),c("div",Hs,[a[4]||(a[4]=o("div",{"i-ph-tree-view-duotone":""},null,-1)),o("span",Gs,D(i(f).state.sourceType),1)])),i(ue)(i(f).state.clusters,i(pe).clusters)?x("",!0):(p(),c("div",Xs,[a[5]||(a[5]=o("div",{"i-ph-exclude-duotone":""},null,-1)),o("div",Ws,[(p(!0),c(P,null,B(i(f).state.clusters,_=>(p(),S(u,{key:_,cluster:_},null,8,["cluster"]))),128))])])),i(ue)(i(f).state.depths,i(pe).depths)?x("",!0):(p(),c("div",Ys,[a[6]||(a[6]=o("div",{"i-ph-stack-duotone":""},null,-1)),o("span",null,D(((l=i(f).state.depths)==null?void 0:l.map(_=>`#${_}`).join(", "))||"None"),1)])),i(ue)(i(f).state.modules,i(pe).modules)?x("",!0):(p(),c("div",Ks,[(p(!0),c(P,null,B(i(se),_=>(p(),c(P,{key:_},[i(n)[_].value?(p(),S(r,{key:0,pkg:_,force:!0,class:T(i(n)[_].value?"":"saturate-0 op75")},null,8,["pkg","class"])):x("",!0)],64))),128))])),(h=i(f).search.parsed.author)!=null&&h.length?(p(),c("div",qs,[a[7]||(a[7]=o("div",{"i-ph-user-circle-duotone":"","text-blue":""},null,-1)),N(" "+D(i(f).search.parsed.author.map(_=>_.source).join(", ")),1)])):x("",!0),(y=i(f).search.parsed.license)!=null&&y.length?(p(),c("div",Js,[a[8]||(a[8]=o("div",{"i-ph-file-text-duotone":"","text-purple":""},null,-1)),N(" "+D(i(f).search.parsed.license.map(_=>_.source).join(", ")),1)])):x("",!0),i(f).state.focus?(p(),c("div",Qs,[a[9]||(a[9]=o("div",{"i-ph-arrows-in-cardinal-duotone":"","text-primary":""},null,-1)),N(" "+D(i(f).state.focus.join(", ")),1)])):x("",!0),i(f).state.why?(p(),c("div",Zs,[a[10]||(a[10]=o("div",{"i-ph-seal-question-duotone":"","text-orange":""},null,-1)),N(" "+D(i(f).state.why.join(", ")),1)])):x("",!0),I((p(),c("button",{w8:"",h8:"","rounded-full":"","hover:bg-active":"",op50:"","hover:op100":"",flex:"~ items-center justify-center",title:"Clear Filters",onClick:a[1]||(a[1]=_=>i(f).select.reset())},a[11]||(a[11]=[o("div",{"i-ph-x":""},null,-1)]))),[[d,"Clear Filters"]])])):x("",!0)}}}),tl={p3:"","flex-none":"","rounded-full":"","h-full":"",flex:"~ items-center gap-1.5","hover:bg-active":""},nl=["onKeydown"],ol=C({__name:"Goto",setup(t){const s=te(""),n=Bt("el");function e(a){var u;le.value=a,s.value="",(u=n.value)==null||u.blur()}return(a,u)=>{const r=an;return p(),c("div",{"bg-glass":"","rounded-full":"",border:"","border-base":"",shadow:"","transition-all":"","duration-300":"","h-12":"",relative:"","focus-within":"ring-4 ring-primary:20 w-60",class:T(s.value?"border-primary w-60":"w-12")},[v(r,{input:s.value,"onUpdate:input":u[2]||(u[2]=d=>s.value=d),onSelect:e},{default:k(({onEnter:d})=>[o("label",tl,[o("div",{"i-ph-magnifying-glass-duotone":"","text-lg":"",class:T(s.value?"text-primary":"op50"),"flex-none":""},null,2),I(o("input",{ref_key:"el",ref:n,"onUpdate:modelValue":u[0]||(u[0]=l=>s.value=l),placeholder:"Goto","w-full":"","bg-transparent":"","outline-none":"",onKeydown:d},null,40,nl),[[at,s.value]]),o("button",{"w-6":"","h-6":"","rounded-full":"","hover:bg-active":"",flex:"",class:T(s.value?"":"op0"),onClick:u[1]||(u[1]=l=>s.value="")},u[3]||(u[3]=[o("div",{"i-ph-x":"",ma:"",op50:""},null,-1)]),2)])]),_:1},8,["input"])],2)}}}),sl={fixed:"","left-4":"","top-22":"","w-100":"","z-panel-content":"",flex:"~ gap-4 col","of-hidden":"",style:{"max-height":"calc(100vh - 6.5rem)"}},ll={"bg-glass":"","rounded-1em":"",border:"","border-base":"",shadow:"","of-y-auto":"","h-max":"","max-h-full":""},rl={fixed:"","left-4":"","top-4":"",flex:"~ gap-3 items-center","z-panel-nav":""},al={"bg-glass":"","rounded-full":"",border:"","border-base":"",shadow:"",px3:"",py2:"","flex-none":"",flex:"~ items-center gap-1","w-max":""},il={relative:""},dl={key:0,absolute:"","top--1":"","right--1":"","w-4":"","h-4":"","bg-primary-600":"",shadow:"","text-white":"","rounded-full":"",flex:"","text-0.6rem":""},ul={ma:""},pl=C({__name:"Nav",setup(t){const s=ut(),n=E({get(){return q.selected==="~settings"},set(d){!d&&q.selected==="~settings"?q.selected="":d&&(q.selected="~settings")}}),e=E({get(){return q.selected==="~filters"},set(d){!d&&q.selected==="~filters"?q.selected="":d&&(q.selected="~filters")}}),a=window.location,u=[{name:"Graph View",path:"/graph",icon:"i-ph-tree-structure-duotone"},{name:"Grid View",path:"/grid",icon:"i-ph-grid-nine-duotone"},{name:"Report View",path:"/report",icon:"i-ph-projector-screen-chart-duotone"},{name:"Compare",path:"/compare",icon:"i-ph-flip-horizontal-duotone"}];function r(){n.value=!1,e.value=!1}return(d,l)=>{const h=Ln,y=$o,_=Es,b=Bs,R=At("RouterLink"),U=el,G=ol,X=Z("tooltip");return p(),c(P,null,[o("div",sl,[o("div",ll,[n.value?(p(),S(h,{key:0})):e.value?(p(),S(y,{key:1})):i(le)?(p(),S(_,{key:2,pkg:i(le)},null,8,["pkg"])):(p(),S(b,{key:3}))])]),o("div",rl,[o("div",al,[(p(),c(P,null,B(u,m=>I(v(R,{key:m.value,"w-10":"","h-10":"","rounded-full":"","hover:bg-active":"",flex:"~ items-center justify-center",title:m.name,class:T(i(s).path.startsWith(m.path)?"text-primary":"op50"),to:{path:m.path,hash:i(a).hash},onClick:l[0]||(l[0]=g=>r())},{default:k(()=>[o("div",{class:T(m.icon),"text-xl":""},null,2)]),_:2},1032,["title","class","to"]),[[X,m.name]])),64)),l[5]||(l[5]=o("div",{"w-1px":"","h-20px":"",mx2:"",border:"l base"},null,-1)),o("div",il,[o("button",{"w-10":"","h-10":"","rounded-full":"","hover:bg-active":"",flex:"~ items-center justify-center",title:"Filters",class:T(e.value?"text-primary":"op50"),onClick:l[1]||(l[1]=m=>e.value=!e.value)},l[3]||(l[3]=[o("div",{"i-ph-funnel-duotone":"","text-xl":""},null,-1)]),2),i(f).select.activated.length?(p(),c("div",dl,[o("span",ul,D(i(f).select.activated.length),1)])):x("",!0)]),o("button",{"w-10":"","h-10":"","rounded-full":"","hover:bg-active":"",flex:"~ items-center justify-center",title:"Settings",class:T(n.value?"text-primary":"op50"),onClick:l[2]||(l[2]=m=>n.value=!n.value)},l[4]||(l[4]=[o("div",{"i-ph-gear-six-duotone":"","text-xl":""},null,-1)]),2)]),v(U),v(G)])],64)}}}),cl=C({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(t){const s=t.renderKey,n=t.route,e={};for(const a in t.route)Object.defineProperty(e,a,{get:()=>s===t.renderKey?t.route[a]:n[a],enumerable:!0});return pt(Se,Ut(e)),()=>J(t.vnode,{ref:t.vnodeRef})}}),gl=C({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:s,slots:n,expose:e}){const a=ct(),u=te(),r=ke(Se,null);let d;e({pageRef:u});const l=ke(mt,null);let h;const y=a.deferHydration();if(a.isHydrating){const b=a.hooks.hookOnce("app:error",y);Ee().beforeEach(b)}t.pageKey&&dt(()=>t.pageKey,(b,R)=>{b!==R&&a.callHook("page:loading:start")});let _=!1;return()=>J(Ht,{name:t.name,route:t.route,...s},{default:b=>{const R=ml(r,b.route,b.Component),U=r&&r.matched.length===b.route.matched.length;if(!b.Component){if(h&&!U)return h;y();return}if(h&&l&&!l.isCurrent(b.route))return h;if(R&&r&&(!l||l!=null&&l.isCurrent(r)))return U?h:null;const G=$e(b,t.pageKey);!a.isHydrating&&!vl(r,b.route,b.Component)&&d===G&&(a.callHook("page:loading:end"),_=!0),d=G;const X=!!(t.transition??b.route.meta.pageTransition??Qe),m=X&&fl([t.transition,b.route.meta.pageTransition,Qe,{onAfterLeave:()=>{a.callHook("page:transition:finish",b.Component)}}].filter(Boolean)),g=t.keepalive??b.route.meta.keepalive??jt;return h=gt(X&&m,zt(g,J(ft,{suspensible:!0,onPending:()=>a.callHook("page:start",b.Component),onResolve:()=>{Te(()=>a.callHook("page:finish",b.Component).then(()=>{if(!_)return a.callHook("page:loading:end");_=!1}).finally(y))}},{default:()=>{const F=J(cl,{key:G||void 0,vnode:n.default?J(P,void 0,n.default(b)):b.Component,route:b.route,renderKey:G||void 0,trackRootNodes:X,vnodeRef:u});return g&&(F.type.name=b.Component.type.name||b.Component.type.__name||"RouteProvider"),F}}))).default(),h}})}});function fl(t){const s=t.map(n=>({...n,onAfterLeave:n.onAfterLeave?Gt(n.onAfterLeave):void 0}));return Xt(...s)}function ml(t,s,n){if(!t)return!1;const e=s.matched.findIndex(a=>{var u;return((u=a.components)==null?void 0:u.default)===(n==null?void 0:n.type)});return!e||e===-1?!1:s.matched.slice(0,e).some((a,u)=>{var r,d,l;return((r=a.components)==null?void 0:r.default)!==((l=(d=t.matched[u])==null?void 0:d.components)==null?void 0:l.default)})||n&&$e({route:s,Component:n})!==$e({route:t,Component:n})}function vl(t,s,n){return t?s.matched.findIndex(a=>{var u;return((u=a.components)==null?void 0:u.default)===(n==null?void 0:n.type)})<s.matched.length-1:!1}const bl=C({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(t,s){return()=>J(fe[t.name],t.layoutProps,s.slots)}}),hl=C({name:"NuxtLayout",inheritAttrs:!1,props:{name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},setup(t,s){const n=ct(),e=ke(Se),a=e===ut()?Wt():e,u=E(()=>{let l=i(t.name)??a.meta.layout??"default";return l&&!(l in fe)&&t.fallback&&(l=i(t.fallback)),l}),r=te();s.expose({layoutRef:r});const d=n.deferHydration();if(n.isHydrating){const l=n.hooks.hookOnce("app:error",d);Ee().beforeEach(l)}return()=>{const l=u.value&&u.value in fe,h=a.meta.layoutTransition??Yt;return gt(l&&h,{default:()=>J(ft,{suspensible:!0,onResolve:()=>{Te(d)}},{default:()=>J(_l,{layoutProps:Kt(s.attrs,{ref:r}),key:u.value||void 0,name:u.value,shouldProvide:!t.name,hasTransition:!!h},s.slots)})}).default()}}}),_l=C({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(t,s){const n=t.name;return t.shouldProvide&&pt(mt,{isCurrent:e=>n===(e.meta.layout??"default")}),()=>{var e,a;return!n||typeof n=="string"&&!(n in fe)?(a=(e=s.slots).default)==null?void 0:a.call(e):J(bl,{key:n,layoutProps:t.layoutProps,name:n},s.slots)}}}),xl={key:0,flex:"~ col","h-full":"","w-full":"","items-center":"","justify-center":"",p4:""},yl={flex:"~ col gap-2 items-center justify-center","flex-auto":""},kl={"h-20":""},$l={key:0,"text-red":"",rounded:"",p2:"",flex:"~ col items-center"},wl={"text-red5":"","dark:text-red3":""},El={key:1,flex:"~ gap-2 items-center","text-lg":"",op50:""},Tl={key:2,flex:"~ gap-2 items-center","text-lg":"",op50:""},Sl=C({__name:"main",props:{backend:{},error:{}},setup(t){const s=t,n=E(()=>{var a,u;return s.error?s.error:(a=Q.value)!=null&&a.connectionError.value?Q.value.connectionError.value:((u=Q.value)==null?void 0:u.status.value)==="error"?"Connection failed":null}),e=E(()=>{var a;return!!(!Q.value||((a=Q.value)==null?void 0:a.status.value)!=="connected"||n.value||!W.value)});return(a,u)=>{var y;const r=fn,d=pl,l=gl,h=hl;return p(),c(P,null,[e.value?(p(),c("div",xl,[o("div",yl,[v(r,{"has-error":!!n.value,"is-loading":e.value},null,8,["has-error","is-loading"]),o("div",kl,[n.value?(p(),c("div",$l,[u[0]||(u[0]=o("div",{"font-bold":""}," Failed to Connect to the Backend ",-1)),o("div",wl,D(n.value),1)])):((y=i(Q))==null?void 0:y.status.value)==="connected"?(p(),c("div",El," Fetching data... ")):(p(),c("div",Tl," Connecting... "))])])])):(p(),S(d,{key:1})),v(h,null,{default:k(()=>[e.value?x("",!0):(p(),S(l,{key:0}))]),_:1})],64)}}}),kt=-1,be=0,me=1,ve=2,Le=3,Ve=4,Ne=5,Be=6,$t=7,wt=8,et=typeof self=="object"?self:globalThis,Pl=(t,s)=>{const n=(a,u)=>(t.set(u,a),a),e=a=>{if(t.has(a))return t.get(a);const[u,r]=s[a];switch(u){case be:case kt:return n(r,a);case me:{const d=n([],a);for(const l of r)d.push(e(l));return d}case ve:{const d=n({},a);for(const[l,h]of r)d[e(l)]=e(h);return d}case Le:return n(new Date(r),a);case Ve:{const{source:d,flags:l}=r;return n(new RegExp(d,l),a)}case Ne:{const d=n(new Map,a);for(const[l,h]of r)d.set(e(l),e(h));return d}case Be:{const d=n(new Set,a);for(const l of r)d.add(e(l));return d}case $t:{const{name:d,message:l}=r;return n(new et[d](l),a)}case wt:return n(BigInt(r),a);case"BigInt":return n(Object(BigInt(r)),a)}return n(new et[u](r),a)};return e},Dl=t=>Pl(new Map,t)(0),oe="",{toString:Ol}={},{keys:Cl}=Object,ae=t=>{const s=typeof t;if(s!=="object"||!t)return[be,s];const n=Ol.call(t).slice(8,-1);switch(n){case"Array":return[me,oe];case"Object":return[ve,oe];case"Date":return[Le,oe];case"RegExp":return[Ve,oe];case"Map":return[Ne,oe];case"Set":return[Be,oe]}return n.includes("Array")?[me,n]:n.includes("Error")?[$t,n]:[ve,n]},ge=([t,s])=>t===be&&(s==="function"||s==="symbol"),Rl=(t,s,n,e)=>{const a=(r,d)=>{const l=e.push(r)-1;return n.set(d,l),l},u=r=>{if(n.has(r))return n.get(r);let[d,l]=ae(r);switch(d){case be:{let y=r;switch(l){case"bigint":d=wt,y=r.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);y=null;break;case"undefined":return a([kt],r)}return a([d,y],r)}case me:{if(l)return a([l,[...r]],r);const y=[],_=a([d,y],r);for(const b of r)y.push(u(b));return _}case ve:{if(l)switch(l){case"BigInt":return a([l,r.toString()],r);case"Boolean":case"Number":case"String":return a([l,r.valueOf()],r)}if(s&&"toJSON"in r)return u(r.toJSON());const y=[],_=a([d,y],r);for(const b of Cl(r))(t||!ge(ae(r[b])))&&y.push([u(b),u(r[b])]);return _}case Le:return a([d,r.toISOString()],r);case Ve:{const{source:y,flags:_}=r;return a([d,{source:y,flags:_}],r)}case Ne:{const y=[],_=a([d,y],r);for(const[b,R]of r)(t||!(ge(ae(b))||ge(ae(R))))&&y.push([u(b),u(R)]);return _}case Be:{const y=[],_=a([d,y],r);for(const b of r)(t||!ge(ae(b)))&&y.push(u(b));return _}}const{message:h}=r;return a([d,{name:l,message:h}],r)};return u},Fl=(t,{json:s,lossy:n}={})=>{const e=[];return Rl(!(s||n),!!s,new Map,e)(t),e};/*! (c) Andrea Giammarchi - ISC */const{parse:Ml,stringify:Il}=JSON,Ll={json:!0,lossy:!0},Vl=t=>Dl(Ml(t)),Nl=t=>Il(Fl(t,Ll)),Bl=Nl,Et=Vl;function Al(){const t=te("connecting"),s=te(void 0),n=fetch("/api/rpc-dump.json").then(e=>e.text()).then(e=>Et(e)).then(e=>(t.value="connected",e)).catch(e=>{throw t.value="error",console.error("Failed to fetch RPC dump:",e),s.value=e,e});return{name:"static",status:t,connectionError:s,connect(){},functions:{getPayload:()=>n.then(e=>e.getPayload)}}}const tt="q",nt="s",Ul=6e4;function Tt(t){return t}const jl=Tt,{clearTimeout:zl,setTimeout:Hl}=globalThis,Gl=Math.random.bind(Math);function Xl(t,s){const{post:n,on:e,off:a=()=>{},eventNames:u=[],serialize:r=Tt,deserialize:d=jl,resolver:l,bind:h="rpc",timeout:y=Ul}=s,_=new Map;let b,R=!1;const U=new Proxy({},{get(m,g){if(g==="$functions")return t;if(g==="$close")return G;if(g==="then"&&!u.includes("then")&&!("then"in t))return;const F=(...K)=>{n(r({m:g,a:K,t:tt}))};if(u.includes(g))return F.asEvent=F,F;const A=async(...K)=>{if(R)throw new Error(`[birpc] rpc is closed, cannot call "${g}"`);if(b)try{await b}finally{b=void 0}return new Promise((ne,L)=>{var V;const j=Yl();let z;y>=0&&(z=Hl(()=>{var ee;try{if(((ee=s.onTimeoutError)==null?void 0:ee.call(s,g,K))!==!0)throw new Error(`[birpc] timeout on calling "${g}"`)}catch(H){L(H)}_.delete(j)},y),typeof z=="object"&&(z=(V=z.unref)==null?void 0:V.call(z))),_.set(j,{resolve:ne,reject:L,timeoutId:z,method:g}),n(r({m:g,a:K,i:j,t:"q"}))})};return A.asEvent=F,A}});function G(){R=!0,_.forEach(({reject:m,method:g})=>{m(new Error(`[birpc] rpc is closed, cannot call "${g}"`))}),_.clear(),a(X)}async function X(m,...g){var A,K,ne;let F;try{F=d(m)}catch(L){if(((A=s.onGeneralError)==null?void 0:A.call(s,L))!==!0)throw L;return}if(F.t===tt){const{m:L,a:j}=F;let z,V;const ee=l?l(L,t[L]):t[L];if(!ee)V=new Error(`[birpc] function "${L}" not found`);else try{z=await ee.apply(h==="rpc"?U:t,j)}catch(H){V=H}if(F.i){if(V&&s.onError&&s.onError(V,L,j),V&&s.onFunctionError&&s.onFunctionError(V,L,j)===!0)return;if(!V)try{n(r({t:nt,i:F.i,r:z}),...g);return}catch(H){if(V=H,((K=s.onGeneralError)==null?void 0:K.call(s,H,L,j))!==!0)throw H}try{n(r({t:nt,i:F.i,e:V}),...g)}catch(H){if(((ne=s.onGeneralError)==null?void 0:ne.call(s,H,L,j))!==!0)throw H}}}else{const{i:L,r:j,e:z}=F,V=_.get(L);V&&(zl(V.timeoutId),z?V.reject(z):V.resolve(j)),_.delete(L)}}return b=e(X),U}const Wl="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";function Yl(t=21){let s="",n=t;for(;n--;)s+=Wl[Gl()*64|0];return s}function Kl(t){const s=te("idle"),n=vt(void 0);let e,a=()=>{};const r=Xl({},{post:async l=>{e||(e=d());const h=await e;for(;h.readyState===h.CONNECTING;)await new Promise(y=>setTimeout(y,100));if(h.readyState!==h.OPEN)throw n.value||(n.value=new Error("WebSocket not open, message sending dismissed")),n.value;h.send(l)},on:l=>{a=l},serialize:Bl,deserialize:Et,onError(l,h){n.value=l,console.error(`[node-modules-inspector] RPC error on executing "${h}":`),console.error(l)},timeout:12e4});async function d(){try{const l=new WebSocket(t.websocketUrl);return l.addEventListener("close",()=>{s.value="idle"}),l.addEventListener("open",()=>{s.value="connected",n.value=void 0}),l.addEventListener("error",h=>{s.value="error",n.value=h}),l.addEventListener("message",h=>{s.value="connected",n.value=void 0,a(h.data)}),l}catch(l){throw s.value="error",n.value=l,l}}return{name:t.name,status:s,connectionError:n,async connect(){e||(e=d()),await e},isDynamic:!0,functions:{getPayload:async()=>{try{return await r.getPayload()}catch(l){throw n.value=l,l}},getPackagesNpmMeta:async l=>await r.getPackagesNpmMeta(l),getPackagesNpmMetaLatest:async l=>await r.getPackagesNpmMetaLatest(l),getPublint:async l=>await r.getPublint(l),openInEditor:l=>r.openInEditor.asEvent(l),openInFinder:l=>r.openInFinder.asEvent(l)}}}async function ql(){const t=await fetch("/api/metadata.json").then(s=>s.json());if(t.backend==="static")return Al();{const s=`${location.protocol.replace("http","ws")}//${location.hostname}:${t.websocket}`;return Kl({name:"dev",websocketUrl:s})}}const ir=C({__name:"dev",setup(t){const s=vt();return ql().then(async n=>(Q.value=n,await n.connect(),n)).then(()=>lt()).catch(n=>{console.error(n),s.value=n}),(n,e)=>(p(),S(Sl,{backend:i(Q),error:s.value},null,8,["backend","error"]))}});export{ir as default};
