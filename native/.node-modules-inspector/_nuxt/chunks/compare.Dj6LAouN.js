import{_ as B}from"./PackageSelect.vue.CVsTBBnu.js";import{_ as $}from"./Item.vue.CUOCZkLu.js";import{e as C,m as z,f as M,r as U,c,o as m,a as t,b as f,w as _,g as G,h as P,v as E,n as I,F as S,i as N,s as k,j as b,k as n,l as u,p as h}from"../entry.BBXTE6X0.js";import{_ as V}from"./Canvas.vue.D7bVhWKP.js";import{p as w,s as j}from"./FileSizeBadge.vue.9X-6oYv4.js";import"./SourceTypeBadge.vue.DYFMseh5.js";import"./PackageBorder.vue.CnNthHrW.js";const F={relative:"","w-100":""},K={"h-12":"",border:"~ base rounded-full","bg-glass":"",shadow:"","transition-all":"","duration-300":""},O={p3:"","flex-none":"","rounded-full":"","h-full":"",flex:"~ items-center gap-1.5","hover:bg-active":""},R=["onKeydown"],T={mt5:""},D=["onClick"],L=C({__name:"PackageMultiSelectInput",props:z({payload:{},excludes:{}},{selected:{default:new Set},selectedModifiers:{}}),emits:["update:selected"],setup(y){const p=M(y,"selected"),l=U("");function s(d){p.value.add(d),l.value=""}return(d,a)=>{const v=B,g=$;return m(),c("div",F,[t("div",K,[f(v,{input:l.value,"onUpdate:input":a[2]||(a[2]=r=>l.value=r),excludes:d.excludes,payload:d.payload,onSelect:s},{default:_(({onEnter:r})=>[t("label",O,[G(d.$slots,"icon"),P(t("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>l.value=o),placeholder:"Select package","w-full":"","bg-transparent":"","outline-none":"",class:"placeholder:text-#8886",onKeydown:r},null,40,R),[[E,l.value]]),t("button",{"w-6":"","h-6":"","rounded-full":"","hover:bg-active":"",flex:"",class:I(l.value?"":"op0"),onClick:a[1]||(a[1]=o=>l.value="")},a[3]||(a[3]=[t("div",{"i-ph-x":"",ma:"",op50:""},null,-1)]),2)])]),_:3},8,["input","excludes","payload"])]),t("div",T,[(m(!0),c(S,null,N(p.value,r=>(m(),c("div",{key:r.spec,flex:"~ gap-2 items-center",p2:""},[f(g,{pkg:r,"flex-auto":"","show-module-type":!1},null,8,["pkg"]),t("button",{"flex-none":"",op50:"","rounded-full":"",p1:"",hover:"op100 bg-active",onClick:o=>p.value.delete(r)},a[4]||(a[4]=[t("div",{"i-ph-x":""},null,-1)]),8,D)]))),128))])])}}}),q={key:0,flex:"~ col items-center justify-center gap-10","mt-10":""},H={grid:"~ cols-[1fr_max-content_1fr] gap-2"},J=["disabled"],oe=C({__name:"compare",setup(y){const p=w.avaliable,l=k(new Set),s=k(new Set),d=b(()=>[...l,...s]),a=b(()=>[...n.state.compareA||[],...n.state.compareB||[]].map(o=>p.get(o)).filter(o=>!!o)),v=b(()=>{var o,e;return((o=n.state.compareA)==null?void 0:o.length)&&((e=n.state.compareB)==null?void 0:e.length)});function g(){!l.size||!s.size||(j.value=void 0,n.state.compareA=Array.from(l).map(o=>o.spec),n.state.compareB=Array.from(s).map(o=>o.spec))}function r(){var o,e;l.clear(),s.clear(),(o=n.state.compareA)==null||o.forEach(i=>l.add(p.get(i))),(e=n.state.compareB)==null||e.forEach(i=>s.add(p.get(i))),n.state.compareA=null,n.state.compareB=null}return(o,e)=>{const i=L,A=V;return v.value?(m(),c(S,{key:1},[f(A,{payload:u(w).filtered,"root-packages":a.value,"highlight-mode":"compare"},null,8,["payload","root-packages"]),t("div",{border:"~ base rounded-full","z-panel-nav":"",fixed:"","top-4":"",left:"50%",transform:"-50%","bg-glass":"",shadow:"","of-hidden":""},[t("button",{px5:"",py1:"","text-lg":"",hover:"bg-active op100",op50:"",onClick:r}," Start a new compare ")])],64)):(m(),c("div",q,[e[7]||(e[7]=t("div",{"text-center":""},[t("h1",{"text-2xl":"","font-bold":""}," Select packages to compare "),t("p",{op50:""}," Use the filters to select packages to compare ")],-1)),t("div",H,[t("div",null,[e[3]||(e[3]=t("div",{"text-yellow":"",p2:"","text-center":"",op75:""}," Compare Group A ",-1)),f(i,{selected:u(l),"onUpdate:selected":e[0]||(e[0]=x=>h(l)?l.value=x:null),excludes:d.value},{icon:_(()=>e[2]||(e[2]=[t("div",{"i-ph-package-duotone":"","text-lg":"","text-yellow":"","flex-none":""},null,-1)])),_:1},8,["selected","excludes"])]),e[6]||(e[6]=t("div",{p2:"",rounded:"",op50:"",py13:""}," vs ",-1)),t("div",null,[e[5]||(e[5]=t("div",{"text-purple":"",p2:"","text-center":"",op75:""}," Compare Group B ",-1)),f(i,{selected:u(s),"onUpdate:selected":e[1]||(e[1]=x=>h(s)?s.value=x:null),excludes:d.value},{icon:_(()=>e[4]||(e[4]=[t("div",{"i-ph-package-duotone":"","text-lg":"","text-purple":"","flex-none":""},null,-1)])),_:1},8,["selected","excludes"])])]),t("button",{disabled:!u(l).size||!u(s).size,class:"disabled:op25 disabled:pointer-events-none",px5:"",py1:"","text-lg":"",border:"~ base rounded-full",hover:"bg-active op100",onClick:g}," Start Compare ",8,J)]))}}});export{oe as default};
